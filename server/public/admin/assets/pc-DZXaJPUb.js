import{_ as b}from"./index-Df1qeOtf.js";import{h as B}from"./element-plus-CW14IAqd.js";import{a as P,s as k}from"./decoration-DEUmVwbG.js";import{m as C}from"./index-DkCvA8ar.js";import{_ as I,w as g}from"./preview-pc.vue_vue_type_script_setup_true_lang-Ds-CxljD.js";import J from"./prop-setting-BlroHvKN.js";import{u as O}from"./vue-router-akAgejHM.js";import{d as y,r as l,b as U,x as V,an as E,o as d,c as M,a as x,f as u,z as o,u as R,g as c,Y as w,Z as W,i as q,_ as z}from"./@vue-CGao7vbS.js";import{_ as T}from"./@liripeng-tRfXSOOZ.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";import"./content-CKz57OMq.js";import"./decoration-img-FL6gfBN4.js";import"./prop-Cx--12RO.js";import"./index-BIwWuBYp.js";import"./picker-WiIIA2S8.js";import"./index-Da-RjlL5.js";import"./index-Di-Xkxjj.js";import"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import"./index-BbB0tGsI.js";import"./index.vue_vue_type_script_setup_true_lang-VrWtSw6-.js";import"./usePaging-D9QJQ_HK.js";import"./vue3-video-play-D5LEBxxj.js";import"./vuedraggable-CNVEpOcE.js";import"./vue-DGROohPF.js";import"./sortablejs-DdgKbxid.js";import"./prop.vue_vue_type_script_setup_true_lang-CCU_XGt-.js";import"./content-dMiLoaEM.js";import"./preview-Bb491mei.js";const Y={class:"decoration-pages"},Z={class:"flex flex-1 min-w-0 items-start overflow-x-auto overflow-y-hidden"},$={class:"h-full py-4"},j=y({name:"decorationPc"}),A=y({...j,setup(F){const D=O(),S=i=>i.map(t=>{var s;return{id:C(),...((s=g[t])==null?void 0:s.config())||{}}}),a=l([{id:4,type:4,name:"pc首页装修",data:[]}]),e=l(0),p=l(0),r=U(()=>a.value[e.value].data[p.value]||{}),f=async()=>{const i=await P({type:a.value[e.value].type});if(!i.data){a.value[e.value].data=S(["title","banner"]);return}a.value[e.value]={...i,data:JSON.parse(i.data)}},h=async()=>{console.log(JSON.stringify(a.value[e.value].data)),await k({...a.value[e.value],data:JSON.stringify(a.value[e.value].data)}),f()};return V(()=>{e.value=D.query.type||0,f()}),(i,t)=>{const _=B,s=b,N=E("perms");return d(),M("div",Y,[x("div",Z,[u(I,{class:"flex flex-1 min-w-0 h-full","page-data":o(a)[o(e)].data,index:o(p),"onUpdate:index":t[0]||(t[0]=m=>R(p)?p.value=m:null)},null,8,["page-data","index"]),x("div",$,[u(J,{title:o(r).title},{default:c(()=>{var m,v;return[(d(),w(W((v=o(g)[(m=o(r))==null?void 0:m.name])==null?void 0:v.prop),{"is-show":o(r).isShow,"onUpdate:isShow":t[1]||(t[1]=n=>o(r).isShow=n),prop:o(r).prop,"onUpdate:prop":t[2]||(t[2]=n=>o(r).prop=n)},null,40,["is-show","prop"]))]}),_:1},8,["title"])])]),q((d(),w(s,{fixed:!0},{default:c(()=>[u(_,{type:"primary",onClick:h},{default:c(()=>t[3]||(t[3]=[z("保存")])),_:1})]),_:1})),[[N,["decorate.page/save"]]])])}}}),Gt=T(A,[["__scopeId","data-v-95bbf353"]]);export{Gt as default};
