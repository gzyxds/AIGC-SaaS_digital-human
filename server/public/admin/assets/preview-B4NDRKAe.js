import{h as z,r as j,s as A}from"./element-plus-CW14IAqd.js";import{d as F,r as L,b,o as m,Y as k,g as u,c as v,f as l,_ as T,k as C,a as d,F as g,j as K,l as V,m as O,Z as U,z as f,e as D}from"./@vue-CGao7vbS.js";import{v as W,h as Y,K as Z,L as q}from"./@element-plus-b4noGO9g.js";import{e as G}from"./index-Tm8GjOEG.js";import{l as H}from"./lodash-es-R-kYiKr_.js";import{_ as J}from"./@liripeng-tRfXSOOZ.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./attr-CV89avmz.js";import"./index-BIwWuBYp.js";import"./index-DkCvA8ar.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";import"./picker-WiIIA2S8.js";import"./index-Da-RjlL5.js";import"./index-Di-Xkxjj.js";import"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import"./index-BbB0tGsI.js";import"./index.vue_vue_type_script_setup_true_lang-VrWtSw6-.js";import"./usePaging-D9QJQ_HK.js";import"./vue3-video-play-D5LEBxxj.js";import"./vuedraggable-CNVEpOcE.js";import"./vue-DGROohPF.js";import"./sortablejs-DdgKbxid.js";import"./content.vue_vue_type_script_setup_true_lang-Be9AjLUc.js";import"./decoration-img-FL6gfBN4.js";import"./attr.vue_vue_type_script_setup_true_lang-DFTG0yLt.js";import"./content-BBxdp0xf.js";import"./attr.vue_vue_type_script_setup_true_lang-6D7SMVtd.js";import"./picker-mRWJSMrB.js";import"./article-DKWYrd8c.js";import"./content.vue_vue_type_script_setup_true_lang-CDBorJQ2.js";import"./attr.vue_vue_type_script_setup_true_lang-848oUYql.js";import"./add-nav.vue_vue_type_script_setup_true_lang-COcGhQ3A.js";import"./content-2oOXkk7H.js";import"./attr.vue_vue_type_script_setup_true_lang-6I7pSg8b.js";import"./content.vue_vue_type_script_setup_true_lang-1A__ljSp.js";import"./attr.vue_vue_type_script_setup_true_lang-CeNyST9U.js";import"./content-1HVeOsdN.js";import"./decoration-DEUmVwbG.js";import"./attr.vue_vue_type_script_setup_true_lang-Dy2tfYj2.js";import"./index.vue_vue_type_script_setup_true_lang-Dk7p8Y73.js";import"./content-DFlBXokg.js";import"./content.vue_vue_type_script_setup_true_lang-7exht8qI.js";import"./attr.vue_vue_type_script_setup_true_lang-CrXNmb1k.js";import"./content-ayHiW1h1.js";import"./attr.vue_vue_type_script_setup_true_lang-BYnJgI8w.js";import"./content.vue_vue_type_script_setup_true_lang-skh92CCB.js";import"./attr.vue_vue_type_script_setup_true_lang-BVoVNMi5.js";import"./content-BpKi__HY.js";const Q={class:"shadow mx-[30px] pages-preview"},R=["onClick"],X={key:0,class:"widget-btns py-[5px]"},x=F({__name:"preview",props:{pageMeta:{type:Object,default:()=>null},pageData:{type:Array,default:()=>[]},modelValue:{type:Number,default:0}},emits:["update:modelValue","updatePageData"],setup(i,{emit:M}){const p=i,s=M,h=L(-1),B=()=>{p.modelValue===-1?s("update:modelValue",h.value):(h.value=p.modelValue,s("update:modelValue",-1))},N=(e,o)=>{e.disabled||s("update:modelValue",o)},P=b(()=>e=>e===0),$=b(()=>e=>{var o;return((o=p.pageData)==null?void 0:o.length)===e+1}),_=b(()=>e=>(e==null?void 0:e.enabled)==0),E=e=>{e.enabled!==void 0&&(e.enabled=e.enabled?0:1)},y=(e,o)=>{if(e<0||e>=p.pageData.length||o<0||o>=p.pageData.length)return;const a=H(p.pageData),c=a.splice(e,1)[0];a.splice(o,0,c),s("updatePageData",a),s("update:modelValue",o)};return(e,o)=>{const a=z,c=j,S=A;return m(),k(S,{class:"pages-preview-container"},{default:u(()=>[i.pageMeta!==null?(m(),v("div",{key:0,class:"absolute right-4 top-4",onClick:B},[l(a,null,{default:u(()=>o[0]||(o[0]=[T("页面设置")])),_:1})])):C("",!0),d("div",Q,[(m(!0),v(g,null,K(i.pageData,(t,r)=>(m(),v("div",{key:t.id,class:V(["relative",{"cursor-pointer":!(t!=null&&t.disabled)}]),onClick:n=>N(t,r)},[d("div",{class:V(["absolute w-full h-full z-[100] border-dashed",{select:r==i.modelValue,hide:_.value(t.content),"border-[#dcdfe6] border-2":!(t!=null&&t.disabled)}])},null,2),O(e.$slots,"default",{},()=>{var n;return[(m(),k(U((n=f(G)[t==null?void 0:t.name])==null?void 0:n.content),{content:t.content,styles:t.styles,key:t.id},null,8,["content","styles"]))]},!0),r==i.modelValue?(m(),v("div",X,[d("div",null,[l(c,{effect:"dark",content:_.value(t.content)?"显示":"隐藏",placement:"right"},{default:u(()=>[l(a,{class:"py-[5px]",type:"primary",icon:_.value(t.content)?f(W):f(Y),onClick:n=>E(t.content)},null,8,["icon","onClick"])]),_:2},1032,["content"])]),d("div",null,[l(c,{effect:"dark",content:"上移",placement:"right"},{default:u(()=>[l(a,{class:"py-[5px]",type:"primary",icon:f(Z),disabled:P.value(r),onClick:D(n=>y(r,r-1),["stop"])},null,8,["icon","disabled","onClick"])]),_:2},1024)]),d("div",null,[l(c,{effect:"dark",content:"下移",placement:"right"},{default:u(()=>[l(a,{class:"py-[5px]",type:"primary",icon:f(q),disabled:$.value(r),onClick:D(n=>y(r,r+1),["stop"])},null,8,["icon","disabled","onClick"])]),_:2},1024)])])):C("",!0)],10,R))),128))])]),_:3})}}}),_t=J(x,[["__scopeId","data-v-74bf0473"]]);export{_t as default};
