import{C as z,B,f as D,h as $}from"./element-plus-CW14IAqd.js";import{_ as N}from"./index-BIwWuBYp.js";import{_ as F}from"./picker-mRWJSMrB.js";import{_ as I}from"./picker-WiIIA2S8.js";import{f as V,b as P}from"./index-DkCvA8ar.js";import{D as R}from"./vuedraggable-CNVEpOcE.js";import{l as A}from"./lodash-es-R-kYiKr_.js";import{d as S,b as T,o as d,c as Y,a as u,f as a,g as l,Y as i,k as p,z as r,u as j,_ as q,F as G}from"./@vue-CGao7vbS.js";const H={class:"mb-[18px] max-w-[400px]"},J={class:"bg-fill-light w-full p-4 mt-4"},K={class:"upload-btn w-[60px] h-[60px]"},L={class:"upload-btn w-[60px] h-[60px]"},M={class:"flex-1 flex items-center"},O={class:"drag-move cursor-move ml-auto"},te=S({__name:"menu-set",props:{modelValue:{},max:{default:9999},min:{default:-1},itemData:{default:()=>({name:"",selected:"",unselected:"",is_show:"1",link:{}})}},emits:["update:modelValue"],setup(x,{emit:v}){const m=x,g=v,t=T({get(){return m.modelValue},set(s){g("update:modelValue",s)}}),k=()=>{var s;((s=t.value)==null?void 0:s.length)<m.max?t.value.push(A(m.itemData)):V.msgError(`最多添加${m.max}个`)},b=s=>{if(t.value.length<=m.min&&m.min>-1)return V.msgError(`最少保留${m.min}个`);t.value.splice(s,1)};return(s,n)=>{const _=P,f=I,c=z,h=B,w=F,y=D,U=N,C=$;return d(),Y(G,null,[u("div",H,[a(r(R),{class:"draggable",modelValue:r(t),"onUpdate:modelValue":n[0]||(n[0]=e=>j(t)?t.value=e:null),animation:"300",handle:".drag-move","item-key":"index"},{item:l(({element:e,index:E})=>[a(U,{onClose:o=>b(E),class:"max-w-[400px]"},{default:l(()=>[u("div",J,[e.unselected!==void 0||e.selected!==void 0?(d(),i(c,{key:0,label:"导航图标"},{default:l(()=>[e.unselected!==void 0?(d(),i(f,{key:0,modelValue:e.unselected,"onUpdate:modelValue":o=>e.unselected=o,"upload-class":"bg-body","exclude-domain":"",size:"60px"},{upload:l(()=>[u("div",K,[a(_,{name:"el-icon-Plus",size:16}),n[1]||(n[1]=u("span",{class:"text-xs leading-5"}," 未选中 ",-1))])]),_:2},1032,["modelValue","onUpdate:modelValue"])):p("",!0),e.selected!==void 0?(d(),i(f,{key:1,modelValue:e.selected,"onUpdate:modelValue":o=>e.selected=o,"upload-class":"bg-body","exclude-domain":"",size:"60px"},{upload:l(()=>[u("div",L,[a(_,{name:"el-icon-Plus",size:16}),n[2]||(n[2]=u("span",{class:"text-xs leading-5"}," 选中 ",-1))])]),_:2},1032,["modelValue","onUpdate:modelValue"])):p("",!0)]),_:2},1024)):p("",!0),e.name!==void 0?(d(),i(c,{key:1,label:"导航名称"},{default:l(()=>[a(h,{modelValue:e.name,"onUpdate:modelValue":o=>e.name=o,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),e.link!==void 0?(d(),i(c,{key:2,label:"链接地址"},{default:l(()=>[a(w,{modelValue:e.link,"onUpdate:modelValue":o=>e.link=o,type:"pc"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),e.is_show!==void 0?(d(),i(c,{key:3,label:"是否显示"},{default:l(()=>[u("div",M,[a(y,{modelValue:e.is_show,"onUpdate:modelValue":o=>e.is_show=o,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"]),u("div",O,[a(_,{name:"el-icon-Rank",size:"18"})])])]),_:2},1024)):p("",!0)])]),_:2},1032,["onClose"])]),_:1},8,["modelValue"])]),r(t).length<s.max?(d(),i(c,{key:0,"label-width":"0"},{default:l(()=>[a(C,{type:"primary",onClick:k},{default:l(()=>n[3]||(n[3]=[q(" 添加导航 ")])),_:1})]),_:1})):p("",!0)],64)}}});export{te as _};
