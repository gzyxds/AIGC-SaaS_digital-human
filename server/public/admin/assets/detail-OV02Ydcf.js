import{Q as q,I as R,q as A,h as N,C as V,D as z}from"./element-plus-CW14IAqd.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-VrWtSw6-.js";import{i as I,b as M}from"./index-DkCvA8ar.js";import{g as S,u as U,a as G}from"./consumer-BY0Eftis.js";import{_ as H}from"./account-adjust.vue_vue_type_script_setup_true_lang-Nr87W8jj.js";import{u as O}from"./vue-router-akAgejHM.js";import{d as C,a0 as g,G as Q,an as T,o as u,c as Y,f as t,g as o,z as a,a as d,_ as l,t as i,i as c,Y as y}from"./@vue-CGao7vbS.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./@vueuse-CuqWKaqQ.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./@liripeng-tRfXSOOZ.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";import"./index-Da-RjlL5.js";const J={class:"bg-page flex py-5 mb-10 items-center"},K={class:"basis-40 flex flex-col justify-center items-center"},L={class:"basis-40 flex flex-col justify-center items-center"},W={class:"mt-2 flex items-center"},X=C({name:"consumerDetail"}),ze=C({...X,setup(Z){const w=O(),s=g({avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,sex:0,sn:"",account:"",user_money:""}),p=g({show:!1,value:""}),h=Q(),E=async()=>{const n=await S({id:w.query.id});Object.keys(s).forEach(e=>{s[e]=n[e]})},v=async(n,e)=>{I(n)||(await U({id:w.query.id,field:e,value:n}),E())},j=n=>{p.show=!0,p.value=n},D=async n=>{await G({user_id:w.query.id,...n}),p.show=!1,E()};return E(),(n,e)=>{const B=q,k=R,$=A,f=N,m=V,b=M,x=F,P=z,_=T("perms");return u(),Y("div",null,[t(k,{class:"!border-none",shadow:"never"},{default:o(()=>[t(B,{content:"用户详情",onBack:e[0]||(e[0]=r=>n.$router.back())})]),_:1}),t(k,{class:"mt-4 !border-none",header:"基本资料",shadow:"never"},{default:o(()=>[t(P,{ref_key:"formRef",ref:h,class:"ls-form",model:a(s),"label-width":"120px"},{default:o(()=>[d("div",J,[d("div",K,[e[7]||(e[7]=d("div",{class:"mb-2 text-tx-regular"},"用户头像",-1)),t($,{src:a(s).avatar,size:58},null,8,["src"])]),d("div",L,[e[9]||(e[9]=d("div",{class:"text-tx-regular"},"算力数量",-1)),d("div",W,[l(i(a(s).user_money)+" ",1),c((u(),y(f,{type:"primary",link:"",onClick:e[1]||(e[1]=r=>j(a(s).user_money))},{default:o(()=>e[8]||(e[8]=[l(" 调整 ")])),_:1})),[[_,["user.user/adjustMoney"]]])])])]),t(m,{label:"用户昵称："},{default:o(()=>[l(i(a(s).nickname),1)]),_:1}),t(m,{label:"账号："},{default:o(()=>[l(i(a(s).account)+" ",1),c((u(),y(x,{class:"ml-[10px]",onConfirm:e[2]||(e[2]=r=>v(r,"account")),limit:32},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"真实姓名："},{default:o(()=>[l(i(a(s).real_name||"-")+" ",1),c((u(),y(x,{class:"ml-[10px]",onConfirm:e[3]||(e[3]=r=>v(r,"real_name")),limit:32},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"性别："},{default:o(()=>[l(i(a(s).sex)+" ",1),c((u(),y(x,{class:"ml-[10px]",type:"select",options:[{label:"未知",value:0},{label:"男",value:1},{label:"女",value:2}],onConfirm:e[4]||(e[4]=r=>v(r,"sex"))},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"联系电话："},{default:o(()=>[l(i(a(s).mobile||"-")+" ",1),c((u(),y(x,{class:"ml-[10px]",type:"number",onConfirm:e[5]||(e[5]=r=>v(r,"mobile"))},{default:o(()=>[t(f,{type:"primary",link:""},{default:o(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[_,["user.user/edit"]]])]),_:1}),t(m,{label:"注册来源："},{default:o(()=>[l(i(a(s).channel),1)]),_:1}),t(m,{label:"注册时间："},{default:o(()=>[l(i(a(s).create_time),1)]),_:1}),t(m,{label:"最近登录时间："},{default:o(()=>[l(i(a(s).login_time),1)]),_:1})]),_:1},8,["model"])]),_:1}),t(H,{show:a(p).show,"onUpdate:show":e[6]||(e[6]=r=>a(p).show=r),value:a(p).value,onConfirm:D},null,8,["show","value"])])}}});export{ze as default};
