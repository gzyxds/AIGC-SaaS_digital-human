import{_ as E}from"./index-Df1qeOtf.js";import{P as S,I as U,B,C as h,h as F,D as R}from"./element-plus-CW14IAqd.js";import{_ as j}from"./picker-WiIIA2S8.js";import{g as N,s as W}from"./weapp-DqYIKHkT.js";import{u as z}from"./index-DkCvA8ar.js";import{d as D,a0 as G,b as M,G as P,an as V,o as r,c as T,f as t,g as o,a as l,z as s,i as u,Y as _,_ as f}from"./@vue-CGao7vbS.js";import"./@liripeng-tRfXSOOZ.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./index-Da-RjlL5.js";import"./index-Di-Xkxjj.js";import"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import"./index-BIwWuBYp.js";import"./index-BbB0tGsI.js";import"./index.vue_vue_type_script_setup_true_lang-VrWtSw6-.js";import"./@vueuse-CuqWKaqQ.js";import"./usePaging-D9QJQ_HK.js";import"./vue3-video-play-D5LEBxxj.js";import"./vuedraggable-CNVEpOcE.js";import"./vue-DGROohPF.js";import"./sortablejs-DdgKbxid.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";const Y={class:"w-80"},H={class:"w-80"},J={class:"flex-1"},K={class:"w-80"},L={class:"w-80"},O={class:"flex-1 min-w-0"},Q={class:"sm:flex"},X={class:"mr-4 sm:w-80 flex"},Z={class:"flex-1 min-w-0"},ee={class:"sm:flex"},le={class:"mr-4 sm:w-80 flex"},te={class:"flex-1 min-w-0"},oe={class:"sm:flex"},se={class:"mr-4 sm:w-80 flex"},ie={class:"flex-1 min-w-0"},ae={class:"sm:flex"},de={class:"mr-4 sm:w-80 flex"},pe={class:"flex-1 min-w-0"},ne={class:"sm:flex"},re={class:"mr-4 sm:w-80 flex"},me={class:"flex-1 min-w-0"},ue={class:"sm:flex"},_e={class:"mr-4 sm:w-80 flex"},fe=D({name:"weappConfig"}),pl=D({...fe,setup(ve){const y=z(),i=G({name:"",original_id:"",qr_code:"",app_id:"",app_secret:"",business_domain:"",download_file_domain:"",request_domain:"",socket_domain:"",tcpDomain:"",udp_domain:"",upload_file_domain:"",private_key:"",share_image:""}),p=M(()=>window.location.hostname),c=P(),k={app_id:[{required:!0,message:"请输入AppID",trigger:["blur","change"]}],app_secret:[{required:!0,message:"请输入AppSecret",trigger:["blur","change"]}]},g=async()=>{const b=await N();for(const e in i)i[e]=b[e]},I=async()=>{var b;await((b=c.value)==null?void 0:b.validate()),await W(i),g()};return g(),(b,e)=>{const $=S,v=U,n=B,a=h,x=j,m=F,A=R,C=E,w=V("copy"),q=V("perms");return r(),T("div",null,[t(v,{class:"!border-none",shadow:"never"},{default:o(()=>[t($,{type:"warning",title:"温馨提示：填写微信小程序开发配置，请前往微信公众平台申请小程序并完成认证",closable:!1,"show-icon":""})]),_:1}),t(A,{ref_key:"formRef",ref:c,model:s(i),rules:k,"label-width":s(y).isMobile?"80px":"160px"},{default:o(()=>[t(v,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[e[9]||(e[9]=l("div",{class:"font-medium mb-7"},"微信小程序",-1)),t(a,{label:"小程序名称",prop:"name"},{default:o(()=>[l("div",Y,[t(n,{modelValue:s(i).name,"onUpdate:modelValue":e[0]||(e[0]=d=>s(i).name=d),placeholder:"请输入小程序名称"},null,8,["modelValue"])])]),_:1}),t(a,{label:"原始ID",prop:"original_id"},{default:o(()=>[l("div",H,[t(n,{modelValue:s(i).original_id,"onUpdate:modelValue":e[1]||(e[1]=d=>s(i).original_id=d),placeholder:"请输入原始ID"},null,8,["modelValue"])])]),_:1}),t(a,{label:"小程序码",prop:"qr_code"},{default:o(()=>[l("div",J,[l("div",null,[t(x,{modelValue:s(i).qr_code,"onUpdate:modelValue":e[2]||(e[2]=d=>s(i).qr_code=d),limit:1},null,8,["modelValue"])]),e[7]||(e[7]=l("div",{class:"form-tips"},"建议尺寸：宽400px*高400px。jpg，jpeg，png格式",-1))])]),_:1}),t(a,{label:"小程序分享图标",prop:"share_image"},{default:o(()=>[l("div",null,[l("div",null,[t(x,{modelValue:s(i).share_image,"onUpdate:modelValue":e[3]||(e[3]=d=>s(i).share_image=d),limit:1},null,8,["modelValue"])]),e[8]||(e[8]=l("div",{class:"form-tips"},"建议上传比例为5:4的.jpg或.png格式的图片",-1))])]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[e[11]||(e[11]=l("div",{class:"font-medium mb-7"},"开发者ID",-1)),t(a,{label:"AppID",prop:"app_id"},{default:o(()=>[l("div",K,[t(n,{modelValue:s(i).app_id,"onUpdate:modelValue":e[4]||(e[4]=d=>s(i).app_id=d),placeholder:"请输入AppID"},null,8,["modelValue"])])]),_:1}),t(a,{label:"AppSecret",prop:"app_secret"},{default:o(()=>[l("div",L,[t(n,{modelValue:s(i).app_secret,"onUpdate:modelValue":e[5]||(e[5]=d=>s(i).app_secret=d),placeholder:"请输入AppSecret"},null,8,["modelValue"])])]),_:1}),t(a,null,{default:o(()=>e[10]||(e[10]=[l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->开发者ID，设置AppID和AppSecret ",-1)])),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[e[13]||(e[13]=l("div",{class:"font-medium mb-7"},"小程序代码上传",-1)),t(a,{label:"代码上传密钥",prop:"private_key"},{default:o(()=>[l("div",null,[t(n,{type:"textarea",rows:3,modelValue:s(i).private_key,"onUpdate:modelValue":e[6]||(e[6]=d=>s(i).private_key=d),placeholder:"请输入小程序代码上传密钥"},null,8,["modelValue"]),e[12]||(e[12]=l("div",{class:"form-tips"}," 微信公众平台-开发-开发管理-开发设置-小程序代码上传 ",-1))])]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[e[24]||(e[24]=l("div",{class:"font-medium mb-7"},"服务器域名",-1)),t(a,{label:"request合法域名",prop:"appId"},{default:o(()=>[l("div",O,[l("div",Q,[l("div",X,[t(n,{value:`https://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[14]||(e[14]=[f("复制")])),_:1})),[[w,`https://${s(p)}`]])]),e[15]||(e[15]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1))])]),_:1}),t(a,{label:"socket合法域名"},{default:o(()=>[l("div",Z,[l("div",ee,[l("div",le,[t(n,{value:`wss://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[16]||(e[16]=[f("复制")])),_:1})),[[w,`wss://${s(p)}`]])]),e[17]||(e[17]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写wss协议域名 ",-1))])]),_:1}),t(a,{label:"uploadFile合法域名"},{default:o(()=>[l("div",te,[l("div",oe,[l("div",se,[t(n,{value:`https://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[18]||(e[18]=[f("复制")])),_:1})),[[w,`https://${s(p)}`]])]),e[19]||(e[19]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1))])]),_:1}),t(a,{label:"downloadFile合法域名"},{default:o(()=>[l("div",ie,[l("div",ae,[l("div",de,[t(n,{value:`https://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[20]||(e[20]=[f("复制")])),_:1})),[[w,`https://${s(p)}`]])]),e[21]||(e[21]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写https协议域名 ",-1))])]),_:1}),t(a,{label:"udp合法域名"},{default:o(()=>[l("div",pe,[l("div",ne,[l("div",re,[t(n,{value:`udp://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[22]||(e[22]=[f("复制")])),_:1})),[[w,`udp://${s(p)}`]])]),e[23]||(e[23]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->服务器域名，填写udp协议域名 ",-1))])]),_:1})]),_:1}),t(v,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[e[27]||(e[27]=l("div",{class:"font-medium mb-7"},"业务域名",-1)),t(a,{label:"业务域名"},{default:o(()=>[l("div",me,[l("div",ue,[l("div",_e,[t(n,{value:`https://${s(p)}`,disabled:""},null,8,["value"])]),u((r(),_(m,null,{default:o(()=>e[25]||(e[25]=[f("复制")])),_:1})),[[w,`https://${s(p)}`]])]),e[26]||(e[26]=l("div",{class:"form-tips"}," 小程序账号登录微信公众平台，点击开发>开发设置->业务域名，填写业务域名 ",-1))])]),_:1})]),_:1})]),_:1},8,["model","label-width"]),u((r(),_(C,null,{default:o(()=>[t(m,{type:"primary",onClick:I},{default:o(()=>e[28]||(e[28]=[f("保存")])),_:1})]),_:1})),[[q,["channel.mnp_settings/setConfig"]]])])}}});export{pl as default};
