import{P as F,I as V,l as B,m as z,J as D,O as M,h as O,K as S,L as U}from"./element-plus-CW14IAqd.js";import{a as j}from"./message-4islfBQv.js";import{u as q}from"./usePaging-D9QJQ_HK.js";import{g as I}from"./index-DkCvA8ar.js";import{d as v,r as J,a0 as K,a5 as Y,ah as G,an as H,o as m,c as f,f as t,g as o,z as n,u as N,F as Q,j as W,i as b,Y as g,_ as h,t as X}from"./@vue-CGao7vbS.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./@liripeng-tRfXSOOZ.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";const Z=v({name:"notice"}),zt=v({...Z,setup($){let c;(a=>{a[a.USER=1]="USER",a[a.PLATFORM=2]="PLATFORM"})(c||(c={}));const r=J(1),y=[{name:"通知用户",type:1},{name:"通知平台",type:2}],T=K({recipient:r}),{pager:_,getLists:p}=q({fetchFun:j,params:T});return Y(()=>{p()}),p(),(a,s)=>{const w=F,d=V,E=B,k=z,i=D,C=M,L=G("router-link"),P=O,R=S,x=H("perms"),A=U;return m(),f("div",null,[t(d,{class:"!border-none",shadow:"never"},{default:o(()=>[t(w,{type:"warning",title:"温馨提示：平台配置在各个场景下的通知发送方式和内容模板",closable:!1,"show-icon":""})]),_:1}),t(d,{class:"!border-none mt-4",shadow:"never"},{default:o(()=>[t(k,{modelValue:n(r),"onUpdate:modelValue":s[0]||(s[0]=e=>N(r)?r.value=e:null),onTabChange:n(p)},{default:o(()=>[(m(),f(Q,null,W(y,(e,l)=>t(E,{key:l,label:e.name,name:e.type,lazy:""},null,8,["label","name"])),64))]),_:1},8,["modelValue","onTabChange"]),b((m(),g(R,{size:"large",data:n(_).lists},{default:o(()=>[t(i,{label:"通知场景",prop:"scene_name","min-width":"120"}),t(i,{label:"通知类型",prop:"type_desc","min-width":"160"}),t(i,{label:"短信通知","min-width":"80"},{default:o(({row:e})=>{var l;return[t(C,{type:((l=e.sms_notice)==null?void 0:l.status)==1?"primary":"danger"},{default:o(()=>{var u;return[h(X(((u=e.sms_notice)==null?void 0:u.status)==1?"开启":"关闭"),1)]}),_:2},1032,["type"])]}),_:1}),t(i,{label:"操作","min-width":"80",fixed:"right"},{default:o(({row:e})=>[b((m(),g(P,{type:"primary",link:""},{default:o(()=>[t(L,{to:{path:n(I)("notice.notice/set"),query:{id:e.id}}},{default:o(()=>s[1]||(s[1]=[h(" 设置 ")])),_:2},1032,["to"])]),_:2},1024)),[[x,["notice.notice/set"]]])]),_:1})]),_:1},8,["data"])),[[A,n(_).loading]])]),_:1})])}}});export{zt as default};
