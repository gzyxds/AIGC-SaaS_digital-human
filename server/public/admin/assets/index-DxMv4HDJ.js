import{e as b,B as u,D as O,_ as S}from"./index-DkCvA8ar.js";import{I as C}from"./element-plus-CW14IAqd.js";import{H as h}from"./vue-echarts-41s25YDk.js";import{u as v}from"./getExposeType-BTk_Jeu2.js";import{d as w,w as A,a0 as E,x as B,ah as D,o as f,c as _,a as t,f as n,g as i,t as l,z as s,F as z,j as R}from"./@vue-CGao7vbS.js";import"./nprogress-Cgf5DU8x.js";import"./balanced-match-mNcR6oh4.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./@element-plus-b4noGO9g.js";import"./@liripeng-tRfXSOOZ.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./dayjs-CMfar2R3.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./resize-detector-G6vbKCU7.js";const F={class:"workbench"},N={class:"lg:flex"},V={class:"flex leading-9"},W={class:"flex leading-9"},j={class:"text-tx-secondary text-xs ml-4"},H={class:"flex flex-wrap"},I={class:"w-1/2 md:w-1/4"},L={class:"text-6xl"},M={class:"text-tx-secondary text-xs"},q={class:"w-1/2 md:w-1/4"},G={class:"text-6xl"},J={class:"text-tx-secondary text-xs"},K={class:"w-1/2 md:w-1/4"},P={class:"text-6xl"},Q={class:"text-tx-secondary text-xs"},T={class:"w-1/2 md:w-1/4"},U={class:"text-6xl"},X={class:"text-tx-secondary text-xs"},Y={class:"function mb-4"},Z={class:"flex flex-wrap"},$={class:"mt-2"},tt={class:"lg:flex gap-4"},ot=w({name:"workbench"}),Ht=w({...ot,setup(et){const a=b(),m=v(),x=v();A(()=>a.theme,()=>{g()});const e=E({version:{version:"",website:"",based:"",channel:{gitee:"",website:""}},support:[],today:{},menu:[],works:[],article:[],worksOption:{xAxis:{type:"category",data:[]},yAxis:{type:"value"},legend:{data:["访问量"]},tooltip:{trigger:"axis"},series:[{name:"作品数量",data:[],type:"line",smooth:!0,color:a.theme,lineStyle:{color:a.theme,width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:a.theme},{offset:1,color:a.theme}]},opacity:.1}}]},saleOption:{xAxis:{type:"category",data:[]},yAxis:{type:"value",name:"单位（元）"},tooltip:{trigger:"axis"},series:[{name:"销售额",data:[],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderRadius:[10,10,0,0]},barWidth:"40%",itemStyle:{borderRadius:[10,10,0,0],color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:u(a.theme,.7)},{offset:1,color:a.theme}]}}}]}}),y=()=>{O().then(r=>{e.version=r.version,e.today=r.today,e.menu=r.menu,e.works=r.works,e.support=r.support,e.worksOption.xAxis.data=[],e.worksOption.series[0].data=[],e.saleOption.xAxis.data=[],e.saleOption.series[0].data=[],r.works.date.reverse().forEach(o=>{e.worksOption.xAxis.data.push(o)}),r.works.list[0].data.reverse().forEach(o=>{e.worksOption.series[0].data.push(o)}),r.sale.date.reverse().forEach(o=>{e.saleOption.xAxis.data.push(o)}),r.sale.list[0].data.reverse().forEach(o=>{o<=100&&(o={value:o,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:u("#ff8729",.7)},{offset:1,color:"#ff8729"}]}}}),e.saleOption.series[0].data.push(o)})}).catch(r=>{console.log("err",r)})},g=()=>{var r,o,d,c;e.worksOption.series[0].color=a.theme,e.worksOption.series[0].lineStyle.color=a.theme,e.worksOption.series[0].areaStyle.color.colorStops=[{offset:0,color:a.theme},{offset:1,color:a.theme}],e.saleOption.series[0].itemStyle.color.colorStops=[{offset:0,color:u(a.theme,.7)},{offset:1,color:a.theme}],(r=m.value)==null||r.clear(),(o=x.value)==null||o.clear(),(d=m.value)==null||d.setOption(e.saleOption),(c=x.value)==null||c.setOption(e.worksOption)};return B(()=>{y()}),(r,o)=>{const d=C,c=S,k=D("router-link");return f(),_("div",F,[t("div",N,[n(d,{class:"!border-none mb-4 lg:mr-4 lg:w-[350px]",shadow:"never"},{header:i(()=>o[0]||(o[0]=[t("span",{class:"card-title"},"版本信息",-1)])),default:i(()=>[t("div",null,[t("div",V,[o[1]||(o[1]=t("div",{class:"w-20"},"平台名称",-1)),t("span",null,l(s(e).version.name),1)]),t("div",W,[o[2]||(o[2]=t("div",{class:"w-20"},"当前版本",-1)),t("span",null,l(s(e).version.version),1)])])]),_:1}),n(d,{class:"!border-none mb-4 flex-1",shadow:"never"},{header:i(()=>[t("div",null,[o[3]||(o[3]=t("span",{class:"card-title"},"今日数据",-1)),t("span",j," 更新时间："+l(s(e).today.time),1)])]),default:i(()=>[t("div",H,[t("div",I,[o[4]||(o[4]=t("div",{class:"leading-10"},"今日销售额",-1)),t("div",L,l(s(e).today.today_sales),1),t("div",M," 总："+l(s(e).today.total_sales),1)]),t("div",q,[o[5]||(o[5]=t("div",{class:"leading-10"},"新增订单",-1)),t("div",G,l(s(e).today.order_num),1),t("div",J," 总："+l(s(e).today.order_sum),1)]),t("div",K,[o[6]||(o[6]=t("div",{class:"leading-10"},"新增用户",-1)),t("div",P,l(s(e).today.today_new_user),1),t("div",Q," 总："+l(s(e).today.total_new_user),1)]),t("div",T,[o[7]||(o[7]=t("div",{class:"leading-10"},"新增作品数",-1)),t("div",U,l(s(e).today.today_works),1),t("div",X," 总："+l(s(e).today.total_works),1)])])]),_:1})]),t("div",Y,[n(d,{class:"flex-1 !border-none",shadow:"never"},{header:i(()=>o[8]||(o[8]=[t("span",null,"常用功能",-1)])),default:i(()=>[t("div",Z,[(f(!0),_(z,null,R(s(e).menu,p=>(f(),_("div",{class:"md:w-[12.5%] w-1/4 flex flex-col items-center",key:p},[n(k,{to:p.url,class:"mb-3 flex flex-col items-center"},{default:i(()=>[n(c,{width:"40px",height:"40px",src:p==null?void 0:p.image},null,8,["src"]),t("div",$,l(p.name),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),t("div",tt,[n(d,{class:"!border-none mb-4 lg:mb-0 w-full lg:w-2/3",shadow:"never"},{header:i(()=>o[9]||(o[9]=[t("span",null,"作品数量趋势",-1)])),default:i(()=>[t("div",null,[n(s(h),{ref_key:"worksChart",ref:x,style:{height:"350px"},option:s(e).worksOption,autoresize:!0},null,8,["option"])])]),_:1}),n(d,{class:"!border-none w-full lg:w-1/3",shadow:"never"},{header:i(()=>o[10]||(o[10]=[t("span",null,"销售额趋势",-1)])),default:i(()=>[t("div",null,[n(s(h),{ref_key:"saleChart",ref:m,style:{height:"350px"},option:s(e).saleOption,autoresize:!0},null,8,["option"])])]),_:1})])])}}});export{Ht as default};
