import{B as q,C as S,G as j,H as G,h as H,D as J,I as O,J as Y,q as M,K as Q,R as W,L as X}from"./element-plus-CW14IAqd.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-DIi7FCTv.js";import{d as h,a0 as te,r as y,a5 as oe,an as le,o as c,c as ae,a as n,f as e,g as a,z as l,ab as se,_ as d,i as b,Y as g,t as w,l as ne,u as E,F as ie}from"./@vue-CGao7vbS.js";import{e as re,f as me}from"./tool-qFxs9rEm.js";import{u as de}from"./usePaging-D9QJQ_HK.js";import{f as pe}from"./index-DkCvA8ar.js";import{u as ue}from"./getExposeType-BTk_Jeu2.js";import _e from"./edit-BflveisV.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./@liripeng-tRfXSOOZ.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";const fe={class:"flex items-center"},ce={class:"ml-2"},ve={class:"flex items-center"},be={class:"flex justify-end mt-4"},ge={width:"100%",height:"450px",controls:"",style:{height:"450px"}},xe=["src"],Ve=h({name:"avatarLists"}),nt=h({...Ve,setup(ke){const s=te({user_info:"",status:"",start_time:"",end_time:""}),R=ue(),x=y(""),p=y(!1),T=u=>{p.value=!0,x.value=u},{pager:r,getLists:m,resetPage:V,resetParams:U}=de({fetchFun:me,params:s}),B=async u=>{await pe.confirm("确定要删除？"),await re({id:u}),m()};return oe(()=>{m()}),m(),(u,t)=>{const D=q,_=S,F=ee,v=j,N=G,f=H,P=J,k=O,i=Y,$=M,z=Q,K=Z,L=W,C=le("perms"),A=X;return c(),ae(ie,null,[n("div",null,[e(k,{class:"!border-none",shadow:"never"},{default:a(()=>[e(P,{ref:"formRef",class:"mb-[-16px]",model:l(s),inline:!0},{default:a(()=>[e(_,{label:"用户信息"},{default:a(()=>[e(D,{class:"w-[280px]",modelValue:l(s).user_info,"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).user_info=o),placeholder:"请输入用户账号/昵称/手机号/sn",clearable:"",onKeyup:se(l(V),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(_,{label:"创建时间"},{default:a(()=>[e(F,{startTime:l(s).start_time,"onUpdate:startTime":t[1]||(t[1]=o=>l(s).start_time=o),endTime:l(s).end_time,"onUpdate:endTime":t[2]||(t[2]=o=>l(s).end_time=o)},null,8,["startTime","endTime"])]),_:1}),e(_,{label:"状态",class:"w-[280px]"},{default:a(()=>[e(N,{modelValue:l(s).status,"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).status=o),clearable:""},{default:a(()=>[e(v,{label:"训练中",value:0}),e(v,{label:"已完成",value:1}),e(v,{label:"已失败",value:2})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(f,{type:"primary",onClick:l(V)},{default:a(()=>t[7]||(t[7]=[d("查询")])),_:1},8,["onClick"]),e(f,{onClick:l(U)},{default:a(()=>t[8]||(t[8]=[d("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(k,{class:"!border-none mt-4",shadow:"never"},{default:a(()=>[b((c(),g(z,{size:"large",data:l(r).lists},{default:a(()=>[e(i,{label:"任务号",prop:"image_id","min-width":"80"}),e(i,{label:"用户信息","min-width":"180"},{default:a(({row:o})=>[n("div",fe,[e($,{class:"flex-shrink-0",src:o.userAvatar,size:50},null,8,["src"]),n("span",ce,w(o.userName),1)])]),_:1}),e(i,{label:"形象名称",prop:"name","min-width":"120"}),e(i,{label:"时长(秒)",prop:"duration","min-width":"120"}),e(i,{label:"状态","min-width":"100"},{default:a(({row:o})=>[n("div",ve,[n("span",{class:ne(["ml-2",{"text-info":o.status=="0","text-success":o.status=="1","text-error":o.status=="2"}])},w(["训练中","训练完成","训练失败"][Number(o.status)]),3)])]),_:1}),e(i,{label:"创建时间",prop:"create_time","min-width":"120"}),e(i,{label:"操作","min-width":"120",fixed:"right"},{default:a(({row:o})=>[b((c(),g(f,{type:"primary",link:"",onClick:I=>T(o.fileUrl)},{default:a(()=>t[9]||(t[9]=[d(" 查看视频 ")])),_:2},1032,["onClick"])),[[C,["video.video/detail"]]]),b((c(),g(f,{type:"danger",link:"",onClick:I=>B(o.id)},{default:a(()=>t[10]||(t[10]=[d(" 删除 ")])),_:2},1032,["onClick"])),[[C,["video.video/delete"]]])]),_:1})]),_:1},8,["data"])),[[A,l(r).loading]]),n("div",be,[e(K,{modelValue:l(r),"onUpdate:modelValue":t[4]||(t[4]=o=>E(r)?r.value=o:null),onChange:l(m)},null,8,["modelValue","onChange"])])]),_:1})]),e(L,{modelValue:l(p),"onUpdate:modelValue":t[5]||(t[5]=o=>E(p)?p.value=o:null),width:"740px",title:"视频预览","destroy-on-close":""},{default:a(()=>[n("video",ge,[n("source",{src:l(x),type:"video/mp4"},null,8,xe),t[11]||(t[11]=d(" 您的浏览器不支持 video 标签。 "))])]),_:1},8,["modelValue"]),e(_e,{ref_key:"editRef",ref:R,onRefresh:t[6]||(t[6]=o=>l(m)())},null,512)],64)}}});export{nt as default};
