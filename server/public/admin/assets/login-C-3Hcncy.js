import{B as K,C as j,D as q,F as P,h as T}from"./element-plus-CW14IAqd.js";import{u as C,a as G,c as b,A as k,_ as M,b as O,P as X}from"./index-DkCvA8ar.js";import{d as F,b as R,o as u,c as d,a as r,F as Y,j as H,z as f,t as L,G as V,r as J,a0 as Q,x as W,f as o,g as n,ab as E,_ as Z}from"./@vue-CGao7vbS.js";import{u as ee}from"./useLockFn-CLmIqRri.js";import{u as oe,a as te}from"./vue-router-akAgejHM.js";import{_ as se}from"./@liripeng-tRfXSOOZ.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";const re={class:"layout-footer"},ne={class:"text-center p-2 text-xs text-tx-secondary max-w-[900px] mx-auto"},ae=["href"],ce=F({__name:"footer",setup(S){const i=C(),m=R(()=>i.config.copyright_config||[]);return(g,x)=>(u(),d("footer",re,[r("div",ne,[(u(!0),d(Y,null,H(f(m),a=>(u(),d("a",{class:"mx-1 hover:underline",href:a.value,target:"_blank",key:a.key},L(a.key),9,ae))),128))])]))}}),le={class:"login flex flex-col"},ie={class:"flex-1 flex items-center justify-center"},me={class:"login-card flex rounded-md overflow-hidden"},pe={class:"flex-1 h-full hidden md:inline-block"},ue={class:"login-form bg-body flex flex-col justify-center px-10 py-10 md:w-[400px] w-[375px] flex-none mx-auto"},de={class:"text-center text-3xl font-medium mb-8"},_e={class:"mb-5"},fe=F({__name:"login",setup(S){const i=V(),m=V(),g=C(),x=G(),a=oe(),U=te(),c=J(!1),h=R(()=>g.config),s=Q({account:"",password:""}),z={account:[{required:!0,message:"请输入账号",trigger:["blur"]}],password:[{required:!0,message:"请输入密码",trigger:["blur"]}]},B=()=>{var e;if(!s.password)return(e=i.value)==null?void 0:e.focus();_()},_=async()=>{var p;await((p=m.value)==null?void 0:p.validate()),b.set(k,{remember:c.value,account:c.value?s.account:""}),await x.login(s);const{query:{redirect:e}}=a,t=typeof e=="string"?e:X.INDEX;U.push(t)},{isLock:N,lockFn:$}=ee(_);return W(()=>{const e=b.get(k);e!=null&&e.remember&&(c.value=e.remember,s.account=e.account)}),(e,t)=>{const p=M,v=O,y=K,w=j,A=q,D=P,I=T;return u(),d("div",le,[r("div",ie,[r("div",me,[r("div",pe,[o(p,{src:h.value.login_image,width:400,height:"100%"},null,8,["src"])]),r("div",ue,[r("div",de,L(h.value.web_name),1),o(A,{ref_key:"formRef",ref:m,model:s,size:"large",rules:z},{default:n(()=>[o(w,{prop:"account"},{default:n(()=>[o(y,{modelValue:s.account,"onUpdate:modelValue":t[0]||(t[0]=l=>s.account=l),placeholder:"请输入账号",onKeyup:E(B,["enter"])},{prepend:n(()=>[o(v,{name:"el-icon-User",size:"16"})]),_:1},8,["modelValue"])]),_:1}),o(w,{prop:"password"},{default:n(()=>[o(y,{ref_key:"passwordRef",ref:i,modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=l=>s.password=l),"show-password":"",placeholder:"请输入密码",onKeyup:E(_,["enter"])},{prepend:n(()=>[o(v,{name:"el-icon-Lock",size:"16"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),r("div",_e,[o(D,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=l=>c.value=l),label:"记住账号"},null,8,["modelValue"])]),o(I,{type:"primary",size:"large",loading:f(N),onClick:f($)},{default:n(()=>t[3]||(t[3]=[Z(" 登录 ")])),_:1},8,["loading","onClick"])])])]),o(ce)])}}}),He=se(fe,[["__scopeId","data-v-5f140fa2"]]);export{He as default};
