import{B as S,C as j,G,H,h as J,D as O,I as Y,J as M,q as Q,K as W,R as X,L as Z}from"./element-plus-CW14IAqd.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang-DIi7FCTv.js";import{d as T,a0 as y,r as oe,a5 as ae,an as le,o as p,c as se,a as i,f as e,g as l,z as a,ab as ne,_ as f,i as g,Y as v,t as k,l as ie,k as E,u as h,F as re}from"./@vue-CGao7vbS.js";import{V as me}from"./@liripeng-tRfXSOOZ.js";import{k as de,l as pe}from"./tool-qFxs9rEm.js";import{u as ue}from"./usePaging-D9QJQ_HK.js";import{f as _e}from"./index-DkCvA8ar.js";import{u as ce}from"./getExposeType-BTk_Jeu2.js";import fe from"./edit-CyL9e0WP.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";const ve={class:"flex items-center"},be={class:"ml-2"},ge={class:"line-clamp-2"},ke={class:"flex items-center"},Ve={class:"flex justify-end mt-4"},Ce=T({name:"avatarLists"}),it=T({...Ce,setup(we){const V=y({src:""}),r=oe(!1),s=y({user_info:"",status:"",start_time:"",end_time:""}),R=ce(),{pager:m,getLists:d,resetPage:C,resetParams:U}=ue({fetchFun:pe,params:s}),F=async u=>{await _e.confirm("确定要删除？"),await de({id:u}),d()},A=u=>{V.src=u,r.value=!0};return ae(()=>{d()}),d(),(u,o)=>{const B=S,_=j,N=te,b=G,P=H,c=J,D=O,w=Y,n=M,$=Q,z=W,K=ee,L=X,x=le("perms"),I=Z;return p(),se(re,null,[i("div",null,[e(w,{class:"!border-none",shadow:"never"},{default:l(()=>[e(D,{ref:"formRef",class:"mb-[-16px]",model:a(s),inline:!0},{default:l(()=>[e(_,{label:"用户信息"},{default:l(()=>[e(B,{class:"w-[280px]",modelValue:a(s).user_info,"onUpdate:modelValue":o[0]||(o[0]=t=>a(s).user_info=t),placeholder:"请输入用户账号/昵称/手机号/sn",clearable:"",onKeyup:ne(a(C),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(_,{label:"创建时间"},{default:l(()=>[e(N,{startTime:a(s).start_time,"onUpdate:startTime":o[1]||(o[1]=t=>a(s).start_time=t),endTime:a(s).end_time,"onUpdate:endTime":o[2]||(o[2]=t=>a(s).end_time=t)},null,8,["startTime","endTime"])]),_:1}),e(_,{label:"克隆状态",class:"w-[280px]"},{default:l(()=>[e(P,{modelValue:a(s).status,"onUpdate:modelValue":o[3]||(o[3]=t=>a(s).status=t),clearable:""},{default:l(()=>[e(b,{label:"克隆中",value:0}),e(b,{label:"已完成",value:1}),e(b,{label:"已失败",value:2})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(c,{type:"primary",onClick:a(C)},{default:l(()=>o[7]||(o[7]=[f("查询")])),_:1},8,["onClick"]),e(c,{onClick:a(U)},{default:l(()=>o[8]||(o[8]=[f("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(w,{class:"!border-none mt-4",shadow:"never"},{default:l(()=>[g((p(),v(z,{size:"large",data:a(m).lists},{default:l(()=>[e(n,{label:"任务号",prop:"task_id","min-width":"120"}),e(n,{label:"用户信息","min-width":"180"},{default:l(({row:t})=>[i("div",ve,[e($,{class:"flex-shrink-0",src:t.userAvatar,size:50},null,8,["src"]),i("span",be,k(t.userName),1)])]),_:1}),e(n,{label:"音色名称",prop:"name","min-width":"120"},{default:l(({row:t})=>[i("span",ge,k(t.name),1)]),_:1}),e(n,{label:"录制文案",prop:"expected_content","min-width":"120","show-overflow-tooltip":""}),e(n,{label:"识别文案",prop:"actual_content","min-width":"120","show-overflow-tooltip":""}),e(n,{label:"时长(秒)",prop:"duration","min-width":"120"}),e(n,{label:"状态","min-width":"100"},{default:l(({row:t})=>[i("div",ke,[i("span",{class:ie(["ml-2",{"text-info":t.status=="0","text-success":t.status=="1","text-error":t.status=="2"}])},k(["合成中","已完成","已失败"][Number(t.status)]),3)])]),_:1}),e(n,{label:"创建时间",prop:"create_time","min-width":"120"}),e(n,{label:"操作","min-width":"120",fixed:"right"},{default:l(({row:t})=>[t.fileUrl?g((p(),v(c,{key:0,type:"primary",link:"",onClick:q=>A(t.fileUrl)},{default:l(()=>o[9]||(o[9]=[f(" 查看音频 ")])),_:2},1032,["onClick"])),[[x,["voice.avatarVoice/detail"]]]):E("",!0),g((p(),v(c,{type:"danger",link:"",onClick:q=>F(t.id)},{default:l(()=>o[10]||(o[10]=[f(" 删除 ")])),_:2},1032,["onClick"])),[[x,["voice.avatarVoice/delete"]]])]),_:1})]),_:1},8,["data"])),[[I,a(m).loading]]),i("div",Ve,[e(K,{modelValue:a(m),"onUpdate:modelValue":o[4]||(o[4]=t=>h(m)?m.value=t:null),onChange:a(d)},null,8,["modelValue","onChange"])])]),_:1})]),e(L,{modelValue:a(r),"onUpdate:modelValue":o[5]||(o[5]=t=>h(r)?r.value=t:null),width:"740px",title:"音频预览","destroy-on-close":""},{default:l(()=>[a(r)?(p(),v(a(me),{key:0,"audio-list":[a(V)],"theme-color":"#409EFF"},null,8,["audio-list"])):E("",!0)]),_:1},8,["modelValue"]),e(fe,{ref_key:"editRef",ref:R,onRefresh:o[6]||(o[6]=t=>a(d)())},null,512)],64)}}});export{it as default};
