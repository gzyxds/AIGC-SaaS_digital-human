import{B as I,C as j,f as z,h as F,I as O,D as A}from"./element-plus-CW14IAqd.js";import{_ as R}from"./index-BIwWuBYp.js";import{f as g,b as S}from"./index-DkCvA8ar.js";import{_ as T}from"./picker-mRWJSMrB.js";import{_ as Y}from"./picker-WiIIA2S8.js";import{D as q}from"./vuedraggable-CNVEpOcE.js";import{l as b}from"./lodash-es-R-kYiKr_.js";import{d as G,b as H,o as i,c as h,f as t,g as l,a as s,z as p,Y as J,_ as K,k as L}from"./@vue-CGao7vbS.js";const M={class:"bg-fill-light flex items-center w-full p-4 mt-4"},P={class:"ml-3 flex-1"},Q={class:"flex-1 flex items-center"},W={class:"drag-move cursor-move ml-auto"},X={key:0,class:"mt-4"},r=5,de=G({__name:"attr",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},emits:["update:content"],setup(u,{emit:v}){const c=v,d=u,f=H({get:()=>d.content,set:a=>{c("update:content",a)}}),k=()=>{var a;if(((a=d.content.data)==null?void 0:a.length)<r){const e=b(d.content);e.data.push({is_show:"1",image:"",name:"",link:{}}),c("update:content",e)}else g.msgError(`最多添加${r}张图片`)},w=a=>{var m;if(((m=d.content.data)==null?void 0:m.length)<=1)return g.msgError("最少保留一张图片");const e=b(d.content);e.data.splice(a,1),c("update:content",e)};return(a,e)=>{const m=Y,y=I,_=j,E=T,U=z,C=S,B=R,D=F,N=O,$=A;return i(),h("div",null,[t($,{"label-width":"70px"},{default:l(()=>[t(N,{shadow:"never",class:"!border-none flex mt-2"},{default:l(()=>{var x;return[e[2]||(e[2]=s("div",{class:"flex items-end mb-4"},[s("div",{class:"text-base text-[#101010] font-medium"},"菜单"),s("div",{class:"text-xs text-tx-secondary ml-2"}," 最多添加5张，建议图片尺寸：750px*200px ")],-1)),t(p(q),{class:"draggable",modelValue:p(f).data,"onUpdate:modelValue":e[0]||(e[0]=o=>p(f).data=o),animation:"300",handle:".drag-move","item-key":"index"},{item:l(({element:o,index:V})=>[(i(),J(B,{key:V,onClose:n=>w(V),class:"w-[467px]"},{default:l(()=>[s("div",M,[t(m,{modelValue:o.image,"onUpdate:modelValue":n=>o.image=n,"upload-class":"bg-body","exclude-domain":""},null,8,["modelValue","onUpdate:modelValue"]),s("div",P,[t(_,{label:"图片名称"},{default:l(()=>[t(y,{modelValue:o.name,"onUpdate:modelValue":n=>o.name=n,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(_,{class:"mt-[18px]",label:"图片链接"},{default:l(()=>[t(E,{modelValue:o.link,"onUpdate:modelValue":n=>o.link=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(_,{label:"是否显示",class:"mt-[18px]"},{default:l(()=>[s("div",Q,[t(U,{modelValue:o.is_show,"onUpdate:modelValue":n=>o.is_show=n,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"]),s("div",W,[t(C,{name:"el-icon-Rank",size:"18"})])])]),_:2},1024)])])]),_:2},1032,["onClose"]))]),_:1},8,["modelValue"]),((x=u.content.data)==null?void 0:x.length)<r?(i(),h("div",X,[t(D,{class:"w-full",type:"primary",onClick:k},{default:l(()=>e[1]||(e[1]=[K("添加图片")])),_:1})])):L("",!0)]}),_:1})]),_:1})])}}});export{de as _};
