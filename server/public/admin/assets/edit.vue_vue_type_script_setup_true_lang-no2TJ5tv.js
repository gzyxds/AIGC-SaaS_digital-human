import{B as D,C as F,M as N,N as q,D as z}from"./element-plus-CW14IAqd.js";import{P as G}from"./index-Da-RjlL5.js";import{r}from"./index-DkCvA8ar.js";import{d as I,r as _,G as w,b as P,o as T,c as U,f as n,g as a,z as l,a as g,_ as x}from"./@vue-CGao7vbS.js";function Q(t){return r.get({url:"/sensitive.words/lists",params:t})}function L(t){return r.post({url:"/sensitive.words/add",params:t})}function W(t){return r.post({url:"/sensitive.words/delete",params:t})}function M(t){return r.post({url:"/sensitive.words/edit",params:t})}function X(t){return r.get({url:"/sensitive.words/getSensitiveSetting",params:t})}function Y(t){return r.post({url:"/sensitive.words/setSensitiveSetting",params:t})}const j={class:"edit-popup"},Z=I({__name:"edit",emits:["success","close"],setup(t,{expose:R,emit:S}){const s=_({id:"",words:"",status:1}),V={words:[{required:!0,message:"请输入敏感词语"}]},m=S,f=w(),u=w(),d=_("add"),C=P(()=>d.value=="edit"?"编辑敏感词":"自定义敏感词"),b=(o="add")=>{var e;d.value=o,(e=u.value)==null||e.open()},y=async()=>{var e,i;await((e=f.value)==null?void 0:e.validate());const o={...s.value,words:s.value.words};d.value=="add"?await L(o):await M(o),(i=u.value)==null||i.close(),m("close")},E=()=>{m("close")};return R({open:b,setFormData:o=>{for(const e in s.value)o[e]!=null&&o[e]!=null&&(s.value[e]=o[e])}}),(o,e)=>{const i=D,c=F,v=N,k=q,B=z;return T(),U("div",j,[n(G,{ref_key:"popupRef",ref:u,title:l(C),async:!0,width:"550px",onConfirm:y,onClose:E},{default:a(()=>[n(B,{ref_key:"formRef",ref:f,model:l(s),rules:V,"label-width":"80px"},{default:a(()=>[n(c,{label:"敏感词语",prop:"words"},{default:a(()=>[g("div",null,[n(i,{class:"w-[340px]",type:"textarea",autosize:{minRows:6,maxRows:4},modelValue:l(s).words,"onUpdate:modelValue":e[0]||(e[0]=p=>l(s).words=p),placeholder:"如：领袖、政治体系、政治事件"},null,8,["modelValue"]),e[2]||(e[2]=g("div",{class:"form-tips"},"输入敏感词语，添加多个用、 (顿号)隔开",-1))])]),_:1}),n(c,{label:"敏感状态"},{default:a(()=>[n(k,{modelValue:l(s).status,"onUpdate:modelValue":e[1]||(e[1]=p=>l(s).status=p)},{default:a(()=>[n(v,{label:1},{default:a(()=>e[3]||(e[3]=[x("启用")])),_:1}),n(v,{label:0},{default:a(()=>e[4]||(e[4]=[x("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{Z as _,Q as a,W as d,X as g,Y as s};
