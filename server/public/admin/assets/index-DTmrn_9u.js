import{_ as b}from"./index-Df1qeOtf.js";import{I as C,h as E}from"./element-plus-CW14IAqd.js";import{a as O,s as h}from"./decoration-DEUmVwbG.js";import{m as B}from"./index-DkCvA8ar.js";import{_ as I}from"./attr-setting.vue_vue_type_script_setup_true_lang-D1DJDjR9.js";import J from"./menu-CsUigecR.js";import U from"./preview-B4NDRKAe.js";import{e as k}from"./index-Tm8GjOEG.js";import{d as D,a0 as R,r as f,b as s,w as W,an as j,o as _,c as z,a as H,f as p,g as l,z as i,u as v,i as Y,Y as $,_ as q}from"./@vue-CGao7vbS.js";import{_ as A}from"./@liripeng-tRfXSOOZ.js";import"./lodash-es-R-kYiKr_.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-b4noGO9g.js";import"./dayjs-CMfar2R3.js";import"./balanced-match-mNcR6oh4.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@popperjs-D9SI2xQl.js";import"./nprogress-Cgf5DU8x.js";import"./vue-router-akAgejHM.js";import"./pinia-C8SLiYOc.js";import"./axios-C-n2IhIP.js";import"./lodash-BtPWuHkK.js";import"./@vueuse-CuqWKaqQ.js";import"./css-color-function-rJvg8h-6.js";import"./color-B0v57BL7.js";import"./clone-CuIhj1wH.js";import"./color-convert-BGgJB5UM.js";import"./color-name-BQ5IbGbl.js";import"./color-string-BhgG7-8u.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-8CNoFg4V.js";import"./clipboard-Dch_ozqB.js";import"./echarts-BR_QmBtV.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B-CeXLwU.js";import"./highlight.js-D5uP1KGk.js";import"./@highlightjs-l-30Ih9A.js";import"./attr-CV89avmz.js";import"./index-BIwWuBYp.js";import"./picker-WiIIA2S8.js";import"./index-Da-RjlL5.js";import"./index-Di-Xkxjj.js";import"./index.vue_vue_type_script_setup_true_lang-BSFOyzad.js";import"./index-BbB0tGsI.js";import"./index.vue_vue_type_script_setup_true_lang-VrWtSw6-.js";import"./usePaging-D9QJQ_HK.js";import"./vue3-video-play-D5LEBxxj.js";import"./vuedraggable-CNVEpOcE.js";import"./vue-DGROohPF.js";import"./sortablejs-DdgKbxid.js";import"./content.vue_vue_type_script_setup_true_lang-Be9AjLUc.js";import"./decoration-img-FL6gfBN4.js";import"./attr.vue_vue_type_script_setup_true_lang-DFTG0yLt.js";import"./content-BBxdp0xf.js";import"./attr.vue_vue_type_script_setup_true_lang-6D7SMVtd.js";import"./picker-mRWJSMrB.js";import"./article-DKWYrd8c.js";import"./content.vue_vue_type_script_setup_true_lang-CDBorJQ2.js";import"./attr.vue_vue_type_script_setup_true_lang-848oUYql.js";import"./add-nav.vue_vue_type_script_setup_true_lang-COcGhQ3A.js";import"./content-2oOXkk7H.js";import"./attr.vue_vue_type_script_setup_true_lang-6I7pSg8b.js";import"./content.vue_vue_type_script_setup_true_lang-1A__ljSp.js";import"./attr.vue_vue_type_script_setup_true_lang-CeNyST9U.js";import"./content-1HVeOsdN.js";import"./attr.vue_vue_type_script_setup_true_lang-Dy2tfYj2.js";import"./index.vue_vue_type_script_setup_true_lang-Dk7p8Y73.js";import"./content-DFlBXokg.js";import"./content.vue_vue_type_script_setup_true_lang-7exht8qI.js";import"./attr.vue_vue_type_script_setup_true_lang-CrXNmb1k.js";import"./content-ayHiW1h1.js";import"./attr.vue_vue_type_script_setup_true_lang-BYnJgI8w.js";import"./content.vue_vue_type_script_setup_true_lang-skh92CCB.js";import"./attr.vue_vue_type_script_setup_true_lang-BVoVNMi5.js";import"./content-BpKi__HY.js";const F={class:"decoration-pages min-w-[1100px]"},G={class:"flex flex-1 h-full justify-between"},K=D({name:"decorationPages"}),L=D({...K,setup(Q){let c;(t=>{t.HOME="1",t.USER="2",t.SERVICE="3"})(c||(c={}));const w=t=>{a[o.value].pageData=[...t]},u=t=>t.map(e=>{var m;return{id:B(),...((m=k[e])==null?void 0:m.options())||{}}}),x=t=>{var e;(e=a[o.value])!=null&&e.pageData&&(a[o.value].pageData[r.value].content=t)},a=R({1:{id:6,type:1,name:"首页装修",pageMeta:u(["page-meta"]),pageData:u(["search","banner","nav","news"])}}),o=f("1"),r=f(-1),y=s(()=>{var t;return((t=a[o.value])==null?void 0:t.pageData)??[]}),M=s(()=>{var t;return((t=a[o.value])==null?void 0:t.pageMeta)??null}),S=s(()=>{var t,e;return r.value===-1?((t=a[o.value])==null?void 0:t.pageMeta[0])??"":((e=a[o.value])==null?void 0:e.pageData[r.value])??""}),d=async()=>{const t=await O({type:o.value});console.log("装修数据",JSON.parse(t.data)),a[String(t.type)].id=t.id,a[String(t.type)].pageData=JSON.parse(t.data),a[String(t.type)].pageMeta=t!=null&&t.meta?JSON.parse(t==null?void 0:t.meta):null},V=async()=>{const t=a[o.value];await h({...t,data:JSON.stringify(t.pageData),meta:t!=null&&t.pageMeta?JSON.stringify(t==null?void 0:t.pageMeta):null}),d()};return W(o,()=>{r.value=0,d()},{immediate:!0}),(t,e)=>{const g=C,m=E,N=b,P=j("perms");return _(),z("div",F,[H("div",G,[p(g,{shadow:"never",class:"!border-none flex scroll-view-content","body-style":{"padding-right":0}},{default:l(()=>[p(J,{modelValue:i(o),"onUpdate:modelValue":e[0]||(e[0]=n=>v(o)?o.value=n:null),menus:i(a)},null,8,["modelValue","menus"])]),_:1}),p(U,{class:"flex-1 scroll-view-content",modelValue:i(r),"onUpdate:modelValue":e[1]||(e[1]=n=>v(r)?r.value=n:null),onUpdatePageData:w,pageData:i(y),pageMeta:i(M)},null,8,["modelValue","pageData","pageMeta"]),p(I,{class:"w-[560px] scroll-view-content",widget:i(S),"onUpdate:content":x},null,8,["widget"])]),Y((_(),$(N,{class:"mt-4",fixed:!1},{default:l(()=>[p(m,{type:"primary",onClick:V},{default:l(()=>e[2]||(e[2]=[q("保存")])),_:1})]),_:1})),[[P,["decorate:pages:save"]]])])}}}),we=A(L,[["__scopeId","data-v-ea98d03f"]]);export{we as default};
