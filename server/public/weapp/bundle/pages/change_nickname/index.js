"use strict";const e=require("../../../common/vendor.js"),n=require("../../../api/user.js"),o=require("../../../stores/user.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms")+e.resolveComponent("layout-default-uni"))()}Math||((()=>"../../../node-modules/@dcloudio/uni-ui/lib/uni-easyinput/uni-easyinput.js")+(()=>"../../../node-modules/@dcloudio/uni-ui/lib/uni-forms-item/uni-forms-item.js")+(()=>"../../../node-modules/@dcloudio/uni-ui/lib/uni-forms/uni-forms.js"))();const u=e.defineComponent({__name:"index",setup(u){const a=o.useUserStore(),i=e.ref({name:""}),r=e.ref(),s={name:{rules:[{required:!0,errorMessage:"请输入昵称"}]}},l=async()=>{await r.value.validate(),await n.apiPostSetUserInfoSingle({field:"nickname",value:i.value.name}),await a.getUser(),e.index.navigateBack()};return e.onMounted((()=>{var e;i.value.name=(null==(e=a.userInfo)?void 0:e.nickname)||""})),(n,o)=>({a:e.o((e=>i.value.name=e)),b:e.p({placeholder:"请输入昵称",modelValue:i.value.name}),c:e.p({label:"",name:"name"}),d:e.sr(r,"750941a5-1,750941a5-0",{k:"formRef"}),e:e.p({"model-value":i.value,rules:s}),f:e.o(l)})}});wx.createPage(u);
