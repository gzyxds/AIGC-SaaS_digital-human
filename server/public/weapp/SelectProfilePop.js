"use strict";const e=require("./common/vendor.js"),o=require("./common/assets.js"),a=require("./api/avatar.js"),r=require("./enums/variableEnum.js");if(!Array){((()=>"./components/ProductCard.js")+(()=>"./components/EmptyStatus.js")+e.resolveComponent("z-paging")+e.resolveComponent("uni-popup")+e.resolveComponent("layout-default-uni"))()}Math||((()=>"./node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"./node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup.js"))();const u=e.defineComponent({__name:"SelectProfilePop",props:{profileId:{},profileImage:{}},emits:["update:profileId","update:profileImage"],setup(u,{expose:t,emit:l}){const n=l,i=e.ref(),s=e.ref(),p=e.ref(),d=e.shallowRef(null),m=e.ref([]),g=async(e,o)=>{try{const{lists:u}=await a.apiGetAvatarVideoList({page_no:e,page_size:o,status:Number(r.TaskStatusEnum.SUCCESS)});d.value.complete(u)}catch(u){console.log("报错=>",u),d.value.complete(!1)}},c=()=>{s.value&&(n("update:profileId",s.value),n("update:profileImage",p.value)),i.value.close()},v=()=>{console.log("按钮操作"),i.value.close(),e.index.navigateTo({url:"/pages/create_profile/index"})};return e.onMounted((()=>{e.nextTick$1((()=>{var e;null==(e=d.value)||e.refresh()}))})),t({open:e=>{e&&(console.log("id",e),s.value=Number(e)),i.value.open()}}),(a,r)=>e.e({a:e.f(m.value,((a,r,u)=>e.e({a:e.t(a.name),b:Number(a.id)===Number(s.value)},Number(a.id)===Number(s.value)?{c:o._imports_2$1}:{},{d:e.n(Number(a.id)===Number(s.value)?"bg-primary border-primary":"border-foreground"),e:e.o((e=>{return o=a.id,r=a.cover,console.log("radioChange id=> ",o),console.log("radioChange cover=> ",r),s.value=o,void(p.value=r);var o,r}),a.id),f:a.id,g:"8191862e-3-"+u+",8191862e-2",h:e.p({images:a.cover,time:a.duration,"bg-color":"bg-background-muted",url:a.video_url,status:a.status})}))),b:e.o(v),c:e.p({"button-text":"创建形象"}),d:e.sr(d,"8191862e-2,8191862e-1",{k:"paging"}),e:e.o(g),f:e.o((e=>m.value=e)),g:e.p({fixed:!1,height:"100%","z-paging-refresh":"false",modelValue:m.value}),h:m.value.length},m.value.length?{i:e.o(c)}:{},{j:e.sr(i,"8191862e-1,8191862e-0",{k:"popupRef"}),k:e.p({"border-radius":"24rpx",type:"bottom"})})}}),t=e._export_sfc(u,[["__scopeId","data-v-8191862e"]]);exports.MiniProgramPage=t;
