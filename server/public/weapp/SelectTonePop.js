"use strict";const e=require("./common/vendor.js"),o=require("./common/assets.js"),u=require("./api/audio.js"),a=require("./composables/useAudio.js"),n=require("./enums/variableEnum.js");if(!Array){((()=>"./components/EmptyStatus.js")+e.resolveComponent("z-paging")+e.resolveComponent("uni-popup")+e.resolveComponent("layout-default-uni"))()}Math||((()=>"./node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"./node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup.js"))();const r=e.defineComponent({__name:"SelectTonePop",props:{soundId:{},soundName:{}},emits:["update:soundId","update:soundName"],setup(r,{expose:i,emit:s}){const l=s,t=e.ref(),p=e.ref(),d=e.ref(),{play:m,pause:v,stop:c,isPlaying:g}=a.useAudio(),f=e.ref(),b=e.shallowRef(null),_=e.ref([]),h=async(e,o)=>{try{const{lists:a}=await u.apiGetVoiceList({page_no:e,page_size:o,status:n.TaskStatusEnum.SUCCESS});b.value.complete(a)}catch(a){console.log("报错=>",a),b.value.complete(!1)}},j=()=>{p.value&&(l("update:soundId",p.value),l("update:soundName",d.value)),t.value.close()},y=()=>{t.value.close(),e.index.navigateTo({url:"/pages/create_sound/index"})};return e.onMounted((()=>{e.nextTick$1((()=>{var e;null==(e=b.value)||e.refresh()}))})),i({open:e=>{e&&(console.log("id",e),p.value=Number(e)),t.value.open()}}),(u,a)=>e.e({a:e.f(_.value,((u,a,n)=>e.e({a:e.unref(g)&&f.value===u.id},e.unref(g)&&f.value===u.id?{b:o._imports_0$3,c:e.o(((...o)=>e.unref(v)&&e.unref(v)(...o)),u.id)}:{d:o._imports_1$2,e:e.o((e=>{return o=u.id,a=u.voice_url,void(f.value&&f.value!==o?(f.value=o,c(),m(a)):(f.value=o,m(a)));var o,a}),u.id)},{f:e.t(null==u?void 0:u.name),g:e.t(null==u?void 0:u.create_time),h:Number(u.id)===Number(p.value)},Number(u.id)===Number(p.value)?{i:o._imports_2$1}:{},{j:e.n(Number(u.id)===Number(p.value)?"bg-primary border-primary":"border-foreground"),k:u.id,l:e.o((e=>{return o=u.id,a=u.name,console.log("radioChange => ",o,a),p.value=o,void(d.value=a);var o,a}),u.id)}))),b:e.o(y),c:e.p({"button-text":"去创建"}),d:e.sr(b,"1376877a-2,1376877a-1",{k:"paging"}),e:e.o(h),f:e.o((e=>_.value=e)),g:e.p({fixed:!1,height:"100%","z-paging-refresh":"false",modelValue:_.value}),h:_.value.length},_.value.length?{i:e.o(j)}:{},{j:e.sr(t,"1376877a-1,1376877a-0",{k:"popupRef"}),k:e.p({"border-radius":"24rpx",type:"bottom"})})}}),i=e._export_sfc(r,[["__scopeId","data-v-1376877a"]]);exports.MiniProgramPage=i;
