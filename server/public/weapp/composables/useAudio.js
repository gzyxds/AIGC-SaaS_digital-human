"use strict";const e=require("../common/vendor.js"),o=require("./useToast.js");exports.useAudio=function(){const n=e.index.createInnerAudioContext();n.obeyMuteSwitch=!1;const s=e.ref(!1);return e.onMounted((()=>{n.onPlay((()=>{s.value=!0})),n.onPause((()=>{s.value=!1})),n.onStop((()=>{s.value=!1})),n.onEnded((()=>{s.value=!1})),n.onError((e=>{s.value=!1,console.log("音频播放错误",e.errMsg),o.useToast("音频播放错误",e.errMsg)}))})),e.onUnmounted((()=>{n&&n.destroy()})),{play:e=>{n?(n.src=e,n.play()):console.log("音频上下文不存在")},pause:()=>{n&&s.value&&n.pause()},stop:()=>{n&&n.stop()},isPlaying:s}};
