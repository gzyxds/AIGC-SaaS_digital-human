import{E as m}from"./DPda_AxG.js";import{f as g,r as u,L as h,h as y,p as v,o,c as r,a as n,k as t,b0 as i,b3 as b}from"./iBiA3qHo.js";const w=""+new URL("16_9_default.H3n8u5ev.png",import.meta.url).href,k={style:{position:"absolute",inset:"0px","user-select":"none"}},I=["id","src","alt","draggable"],E={key:1,style:{"object-fit":"contain",width:"100%",height:"100%"},class:"relative flex-col center"},B=["id","src"],L=["id","src","controls"],R=g({__name:"aspect-ratio",props:{ratio:{default:()=>[16,9]},alt:{default:""},type:{default:"image"},src:{default:""},controls:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},fallback:{default:""}},setup(c){const l=u(),f=c,s=u(!1),p=h(()=>{const[e,a]=f.ratio;return`width: 100%;padding-bottom: ${a/e*100}%;`}),d=()=>{var e;s.value||(s.value=!0,(e=l.value)==null||e.removeEventListener("error",d))};return y(async()=>{var e;await v(),(e=l.value)==null||e.addEventListener("error",d)}),(e,a)=>(o(),r("div",{style:b([{position:"relative"},t(p)]),class:"w-full overflow-hidden"},[n("div",k,[e.type==="image"&&!t(s)?(o(),r("img",{key:0,id:("useId"in e?e.useId:t(i))(),ref_key:"imgRef",ref:l,src:e.src||t(w),alt:e.src||e.alt,draggable:e.draggable,class:"w-full",style:{"object-fit":"contain",width:"100%",height:"100%"}},null,8,I)):e.type==="image"&&t(s)?(o(),r("div",E,[n("img",{id:("useId"in e?e.useId:t(i))(),src:t(m),alt:"图片加载失败，当前为异常图片",class:"relative h-full"},null,8,B),a[0]||(a[0]=n("span",{class:"absolute inset-0 text-9xl font-bold text-primary/15 center"},"404",-1))])):(o(),r("video",{key:2,id:("useId"in e?e.useId:t(i))(),src:e.src,controls:e.controls,style:{"object-fit":"contain",width:"100%",height:"100%"}},null,8,L))])],4))}});export{R as _,w as d};
