import{f as de,r as e,L as i,bU as pe,bV as he,bW as me,h as ge,o as Se,c as be,a as g,v as X,b3 as y,O as ke,Q as J,n as we,bT as Me,_ as ye}from"./iBiA3qHo.js";const ze=de({__name:"scroll-area",props:{contentClass:{default:void 0},contentStyle:{default:()=>({})},size:{default:5},trigger:{default:"hover"},autoHide:{type:Boolean,default:!1},delay:{default:1e3},horizontal:{type:Boolean,default:!1}},emits:["scroll"],setup(K,{expose:Z,emit:_}){const n=K,Y=e(),t=e(),z=e(),C=e(),E=e(),r=e(!1),V=e(0),D=e(0),x=e(0),F=e(0),u=e(0),v=e(0),c=e(0),f=e(0),S=e(0),b=e(0),H=e(0),T=e(0),p=e(!1),h=e(!1),m=e(!1),N=e(0),U=e(0),O=e(0),P=e(0),ee={width:"fit-content"},k=e(!1),w=e(!1),le=_,s=i(()=>n.trigger==="hover"&&n.autoHide),I=i(()=>V.value>x.value),Q=i(()=>D.value>F.value),j=i(()=>I.value||n.horizontal&&Q.value),L=i(()=>{if(I.value&&u.value&&c.value&&S.value){const l=Math.min(u.value,S.value*u.value/c.value+1.5*n.size);return Number(l.toFixed(4))}return 0}),ae=i(()=>u.value&&c.value&&S.value?H.value/(c.value-u.value)*(S.value-L.value):0),W=i(()=>{if(n.horizontal&&Q.value&&v.value&&f.value&&b.value){const l=b.value*v.value/f.value+1.5*n.size;return Number(l.toFixed(4))}return 0}),te=i(()=>v.value&&f.value&&b.value?T.value/(f.value-v.value)*(b.value-W.value):0);pe(window,"resize",$),he(Y,$,{childList:!0,attributes:!0,subtree:!0});const M=me(oe,n.delay);ge(()=>{$()});function oe(){k.value||(r.value=!1)}function q(){H.value=t.value.scrollTop,T.value=t.value.scrollLeft}function ne(){V.value=t.value.scrollHeight,D.value=t.value.scrollWidth,x.value=t.value.clientHeight,F.value=t.value.clientWidth,u.value=t.value.offsetHeight,v.value=t.value.offsetWidth,c.value=z.value.offsetHeight,f.value=z.value.offsetWidth,S.value=C.value.offsetHeight,b.value=E.value.offsetWidth}function $(){q(),ne()}function ue(l){s.value&&(r.value=!0,!h.value&&!p.value&&M()),le("scroll",l),q()}function se(){h.value||p.value?m.value=!1:s.value||(r.value=!0)}function re(){h.value||p.value?m.value=!0:s.value||(r.value=!1)}function A(){k.value=!0}function G(){h.value||p.value?w.value=!0:(k.value=!1,M())}function ve(l){p.value=!0,N.value=H.value,O.value=l.clientY,window.onmousemove=a=>{const R=(a.clientY-O.value)*(c.value-u.value)/(u.value-L.value),B=c.value-u.value;let o=N.value+R;o=Math.min(B,o),o=Math.max(o,0),t.value.scrollTop=o},window.onmouseup=()=>{window.onmousemove=null,p.value=!1,n.trigger==="hover"&&m.value&&(r.value=!1,m.value=!1),s.value&&w.value&&(w.value=!1,k.value=!1,M())}}function ie(l){h.value=!0,U.value=T.value,P.value=l.clientX,window.onmousemove=a=>{const R=(a.clientX-P.value)*(f.value-v.value)/(v.value-W.value),B=f.value-v.value;let o=U.value+R;o=Math.min(B,o),o=Math.max(o,0),t.value.scrollLeft=o},window.onmouseup=()=>{window.onmousemove=null,h.value=!1,n.trigger==="hover"&&m.value&&(r.value=!1,m.value=!1),s.value&&w.value&&(w.value=!1,k.value=!1,M())}}function ce(...l){var a;(a=t.value)==null||a.scrollTo(...l)}function fe(...l){var a;(a=t.value)==null||a.scrollBy(...l)}return Z({scrollTo:ce,scrollBy:fe}),(l,a)=>(Se(),be("div",{ref_key:"scrollbarRef",ref:Y,class:"m-scrollbar",style:y(`--scrollbar-size: ${l.size}px;`),onMouseenter:a[4]||(a[4]=d=>j.value&&l.trigger==="hover"?se():()=>!1),onMouseleave:a[5]||(a[5]=d=>j.value&&l.trigger==="hover"?re():()=>!1)},[g("div",{ref_key:"containerRef",ref:t,class:"scrollbar-container",onScroll:ue},[g("div",{ref_key:"contentRef",ref:z,class:X(["scrollbar-content",l.contentClass]),style:y([l.horizontal?{...ee,...l.contentStyle}:l.contentStyle])},[ke(l.$slots,"default",{},void 0,!0)],6)],544),g("div",{ref_key:"railVerticalRef",ref:C,class:"scrollbar-rail rail-vertical"},[g("div",{class:X(["scrollbar-track",{"track-visible":l.trigger==="none"||r.value}]),style:y(`top: ${ae.value}px; height: ${L.value}px;`),onMouseenter:a[0]||(a[0]=d=>s.value?A():()=>!1),onMouseleave:a[1]||(a[1]=d=>s.value?G():()=>!1),onMousedown:J(ve,["prevent","stop"])},null,38)],512),we(g("div",{ref_key:"railHorizontalRef",ref:E,class:"scrollbar-rail rail-horizontal"},[g("div",{class:X(["scrollbar-track",{"track-visible":l.trigger==="none"||r.value}]),style:y(`left: ${te.value}px; width: ${W.value}px;`),onMouseenter:a[2]||(a[2]=d=>s.value?A():()=>!1),onMouseleave:a[3]||(a[3]=d=>s.value?G():()=>!1),onMousedown:J(ie,["prevent","stop"])},null,38)],512),[[Me,l.horizontal]])],36))}}),Le=ye(ze,[["__scopeId","data-v-bf89ee5f"]]);export{Le as _};
