import{f as D,u as E,y as R,r as i,h as F,z as G,o as r,A as v,w as u,a as n,k as a,l as S,B as U,b as p,c as C,m as B,d as k,t as h,F as z,C as I,D as j,E as H,q as J}from"./iBiA3qHo.js";import{_ as O}from"./C2fI3Sz2.js";import{_ as P}from"./M2xpECKh.js";import{_ as K}from"./D81t8MNF.js";import{_ as Q}from"./BRU1X883.js";import{a as W}from"./BLDARQqd.js";import{s as A}from"./BoJhwiBp.js";import{_ as X}from"./DxqbCNiF.js";import{C as Y}from"./BviGXemD.js";import"./DIFg_cFK.js";import"./jEpb_vT2.js";import"./Cb4KlQxU.js";const Z={class:"mb-2 flex gap-4"},ee={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},oe={class:"absolute bottom-0 left-0 z-10 h-0 w-full cursor-pointer overflow-hidden rounded-lg bg-foreground/20 backdrop-blur-lg transition-[height] group-hover:h-10"},te={class:"flex w-full items-center justify-end px-2 py-2"},ne={class:"audio-container relative h-12 w-12 flex-shrink-0"},se=["src"],ae={class:"flex flex-1 flex-col gap-1"},le={class:""},re={class:"font-medium"},ce={class:"line-clamp-2 text-sm text-foreground/60"},ie={class:"line-clamp-2 text-sm text-foreground/60"},ue={class:"mt-1 flex flex-wrap gap-1 text-sm text-foreground/60"},be=D({__name:"common",setup(de){E({title:"系统音色"});const V=R(),x=i([]),y=i([]),_=i(),m=i(),c=i([]),f=i([]),N=async(t,e,s)=>{const l={id:t,title:s,cover:"",name:e,type:"local"},d=await Y.encrypt(JSON.stringify(l),I.appSrcret);j({path:"/audio/synthesis",query:{voice_data:d}})};F(async()=>{c.value=await W(),f.value=G(c.value).cloned.value;const t=c.value.map((s,l)=>s.scene),e=c.value.map((s,l)=>s.type);y.value=["全部",...new Set(t.flat())],x.value=["全部",...new Set(e)]});const b=(t,e)=>t==="全部"&&e==="全部"?c.value:c.value.filter(s=>{const l=t==="全部"||s.scene.includes(t),d=e==="全部"||s.type===e;return l&&d}),$=t=>{f.value=b(t,m.value||"全部")},T=t=>{f.value=b(_.value||"全部",t)};return(t,e)=>{const s=H,l=J,d=O,L=P,M=K,q=Q;return r(),v(q,{scroll:!0,breadcrumb:"系统音色",padding:!0,background:!0},{default:u(()=>[n("div",Z,[a(y).length>0?(r(),v(s,{key:0,modelValue:a(_),"onUpdate:modelValue":e[0]||(e[0]=o=>S(_)?_.value=o:null),placeholder:"场景",options:a(y),onChange:$},null,8,["modelValue","options"])):U("",!0),a(x).length>0?(r(),v(s,{key:1,modelValue:a(m),"onUpdate:modelValue":e[1]||(e[1]=o=>S(m)?m.value=o:null),placeholder:"类型",options:a(x),onChange:T},null,8,["modelValue","options"])):U("",!0)]),p(M,null,{default:u(()=>[n("div",ee,[(r(!0),C(z,null,B(a(f),o=>(r(),C("div",{key:o.id,class:"group relative flex cursor-pointer gap-4 rounded-lg bg-background-soft p-4"},[n("div",oe,[n("div",te,[p(d,{size:"2xs",orientation:"horizontal",ui:{rounded:"rounded-full"}},{default:u(()=>[p(l,{icon:"heroicons:play",size:"2xs",onClick:g=>{var w;return(w=a(V))==null?void 0:w.open({cover:a(A),url:o.voiceUrl})}},{default:u(()=>e[2]||(e[2]=[k(" 试听 ")])),_:2},1032,["onClick"]),p(l,{size:"2xs","trailing-icon":"tabler:chevron-right",onClick:g=>N(o.id,o.voice_name,o.name)},{default:u(()=>e[3]||(e[3]=[k(" 使用 ")])),_:2},1032,["onClick"])]),_:2},1024)])]),n("div",ne,[n("img",{src:a(A),class:"relative size-full rounded-full"},null,8,se)]),n("div",ae,[n("h2",le,[n("span",re,h(o.name||"--"),1)]),n("p",ce," 语言："+h(o.language),1),n("p",ie,"类型："+h(o.type),1),n("p",ue,[(r(!0),C(z,null,B(o.scene,g=>(r(),v(L,{key:g,variant:"soft"},{default:u(()=>[k(h(g),1)]),_:2},1024))),128))])])]))),128))])]),_:1}),p(X,{ref_key:"AudioModalRef",ref:V},null,512)]),_:1})}}});export{be as default};
