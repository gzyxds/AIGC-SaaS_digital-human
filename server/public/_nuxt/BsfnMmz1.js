import{_ as ie}from"./M2xpECKh.js";import{f as ae,r as p,o as i,A as ee,w as f,k as e,l as de,af as re,a as s,b as d,d as v,t as n,c as a,a5 as se,ao as ce,v as fe,B as g,ap as me,aw as ue,at as xe,x as ve,s as _e,I as pe,q as ge}from"./iBiA3qHo.js";import{b as ke}from"./75-SRlBf.js";import{s as _}from"./BoJhwiBp.js";const ye={class:"flex items-center gap-2"},we={class:"flex items-center gap-1 text-sm text-foreground/70"},Se={class:"mt-4 flex flex-col gap-4 md:flex-row md:gap-6"},Ce={class:"flex-1 overflow-hidden rounded-lg bg-background-soft center"},Fe=["src"],ze={class:"flex flex-1 flex-col gap-4"},be={class:"grid grid-cols-2 gap-x-10 gap-y-4"},Ae={class:"flex flex-col"},Be={class:"break-all"},Ve={class:"flex flex-col"},Ue={class:"flex flex-col"},he={class:"flex flex-col"},$e={class:"flex flex-col"},Ie={class:"text-sm text-foreground/60"},Ne={class:"flex items-center gap-1"},De={key:0,class:"text-xs text-primary"},qe={class:"flex flex-col"},Pe={class:"flex flex-col"},Ee={class:"flex flex-col"},Ge={key:0,class:"flex items-center gap-1"},Me={class:"truncate text-sm"},Oe={key:1,class:"flex items-center gap-1"},Re={class:"flex flex-col"},Te={key:0,class:"flex items-center gap-1"},je={class:"truncate text-sm"},He={key:1,class:"flex items-center gap-1"},Je={key:0,class:"flex flex-col"},Ke={class:"col-span-2 flex flex-col"},Le={key:0,class:"max-h-52 overflow-y-auto"},Qe={key:1,class:"text-sm text-foreground/50"},We={key:0,class:"mt-auto flex items-center gap-4 end"},os=ae({__name:"record-detail",setup(Xe,{expose:te}){const m=p(!1),k=p([]),o=p();return te({open:async l=>{m.value=!0,o.value=l,k.value=await ke()}}),(l,t)=>{var S;const y=ie,oe=ve,le=_e,u=pe,w=ge,ne=re;return i(),ee(ne,{modelValue:e(m),"onUpdate:modelValue":t[2]||(t[2]=x=>de(m)?m.value=x:null),title:((S=e(o))==null?void 0:S.title)||"暂无标题",width:"sm:max-w-4xl"},{default:f(()=>{var x,C,F,z,b,A,B,V,U,h,$,I,N,D,q,P,E,G,M,O,R,T,j,H,J,K,L,Q,W,X,Y,Z;return[s("div",ye,[d(y,{color:{0:"gray",1:"primary",2:"red"}[(x=e(o))==null?void 0:x.status]},{default:f(()=>{var c;return[v(n({0:"合成中",1:"已完成",2:"合成失败"}[(c=e(o))==null?void 0:c.status]),1)]}),_:1},8,["color"]),s("p",we,[d(oe,{name:"tabler:clock-hour-9"}),s("span",null,n((C=e(o))==null?void 0:C.create_time),1)])]),s("div",Se,[s("div",Ce,[(F=e(o))!=null&&F.resultFile?(i(),a("video",{key:0,class:"max-h-[50vh]",src:(z=e(o))==null?void 0:z.resultFile,controls:""},null,8,Fe)):(i(),ee(le,{key:1,class:"size-full"}))]),s("div",ze,[s("div",be,[s("div",Ae,[t[3]||(t[3]=s("div",{class:"text-sm text-foreground/60"},"任务ID",-1)),s("div",Be,n((b=e(o))==null?void 0:b.task_id),1)]),s("div",Ve,[t[4]||(t[4]=s("div",{class:"text-sm text-foreground/60"},"完成时间",-1)),s("div",null,n(((A=e(o))==null?void 0:A.completion_time)||"--"),1)]),s("div",Ue,[t[5]||(t[5]=s("div",{class:"text-sm text-foreground/60"},"合成通道",-1)),s("div",null,n((B=e(o))!=null&&B.mode&&((V=e(k).find(c=>{var r;return c.mode===((r=e(o))==null?void 0:r.mode)}))==null?void 0:V.video_mode_title)||"--"),1)]),s("div",he,[t[6]||(t[6]=s("div",{class:"text-sm text-foreground/60"},"时长",-1)),s("div",null,n(("formatSecond"in l?l.formatSecond:e(se))(((U=e(o))==null?void 0:U.duration)||0)||0),1)]),s("div",$e,[s("div",Ie," 消耗"+n((h=("useAppStore"in l?l.useAppStore:e(ce))().siteConfig)==null?void 0:h.unit.power),1),s("div",Ne,[s("span",{class:fe({"text-foreground/60 line-through":(($=e(o))==null?void 0:$.status)==="2"})},n((I=e(o))==null?void 0:I.cost_power),3),((N=e(o))==null?void 0:N.status)==="2"?(i(),a("span",De,"已退回")):g("",!0)])]),s("div",qe,[t[7]||(t[7]=s("div",{class:"text-sm text-foreground/60"},"耗时",-1)),s("div",null,n(("formatSecond"in l?l.formatSecond:e(se))(((D=e(o))==null?void 0:D.cost_time)||0)),1)]),s("div",Pe,[t[8]||(t[8]=s("div",{class:"text-sm text-foreground/60"},"文件大小",-1)),s("div",null,n(("formatFileSize"in l?l.formatFileSize:e(me))(((q=e(o))==null?void 0:q.size)||0)),1)]),s("div",Ee,[t[10]||(t[10]=s("div",{class:"text-sm text-foreground/60"},"数字形象",-1)),(P=e(o))!=null&&P.video?(i(),a("div",Ge,[d(u,{size:"2xs",src:((G=(E=e(o))==null?void 0:E.video)==null?void 0:G.cover)||e(_),alt:((O=(M=e(o))==null?void 0:M.video)==null?void 0:O.name)||"--"},null,8,["src","alt"]),s("span",Me,n((T=(R=e(o))==null?void 0:R.video)==null?void 0:T.name),1)])):(i(),a("div",Oe,[d(u,{size:"2xs",src:e(_),alt:"--"},null,8,["src"]),t[9]||(t[9]=s("span",{class:"text-sm text-foreground/50"},"形象已删除",-1))]))]),s("div",Re,[t[12]||(t[12]=s("div",{class:"text-sm text-foreground/60"},"音频信息",-1)),(j=e(o))!=null&&j.voice?(i(),a("div",Te,[d(u,{size:"2xs",src:((J=(H=e(o))==null?void 0:H.voice)==null?void 0:J.cover)||e(_),alt:((K=e(o))==null?void 0:K.voice.title)||"--"},null,8,["src","alt"]),s("span",je,n((L=e(o))==null?void 0:L.voice.title),1)])):(i(),a("div",He,[d(u,{size:"2xs",src:e(_),alt:"--"},null,8,["src"]),t[11]||(t[11]=s("span",{class:"text-sm text-foreground/50"},"音频已删除",-1))]))]),(W=(Q=e(o))==null?void 0:Q.voice)!=null&&W.task_id?g("",!0):(i(),a("div",Je,[t[14]||(t[14]=s("div",{class:"text-sm text-foreground/60"},"音频来源",-1)),s("div",null,[d(y,{variant:"soft"},{default:f(()=>t[13]||(t[13]=[v("本地上传")])),_:1})])])),s("div",Ke,[t[15]||(t[15]=s("div",{class:"text-sm text-foreground/60"},"音频内容",-1)),(X=e(o))!=null&&X.voice?(i(),a("div",Le,n(((Y=e(o))==null?void 0:Y.voice.content)||"--"),1)):(i(),a("div",Qe,"音频已删除"))])]),(Z=e(o))!=null&&Z.resultFile?(i(),a("div",We,[d(w,{variant:"outline",icon:"tabler:copy",onClick:t[0]||(t[0]=c=>{var r;return("useCopy"in l?l.useCopy:e(ue))((r=e(o))==null?void 0:r.resultFile)})},{default:f(()=>t[16]||(t[16]=[v("复制链接")])),_:1}),d(w,{icon:"tabler:cloud-download",onClick:t[1]||(t[1]=c=>{var r;return("downloadFile"in l?l.downloadFile:e(xe))({src:(r=e(o))==null?void 0:r.resultFile})})},{default:f(()=>t[17]||(t[17]=[v("下载结果视频")])),_:1})])):g("",!0)])])]}),_:1},8,["modelValue","title"])}}});export{os as _};
