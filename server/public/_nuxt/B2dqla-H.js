import{f as h,r as u,j as b,o as r,A as d,w as v,k as t,l as y,U as C,a4 as V,n as $,c as B,a as n,t as f,b as _,D,B as S,al as U,x as N,q as T}from"./iBiA3qHo.js";import{e as j}from"./DxM3l_Qq.js";import{_ as q}from"./DJTJLgCP.js";import{_ as z}from"./hQShq2XZ.js";const A={class:"min-h-96 p-4 md:p-6"},M={class:"mb-4 flex justify-between"},O={class:"text-xl font-medium"},E={class:"mt-2 gap-1 text-xs text-foreground/60 start"},K=h({__name:"preview",setup(G,{expose:x}){const o=u(!1),a=u(),s=u(0);return x({show:async(i,e)=>{a.value=void 0,s.value=e||0,o.value=!0;try{a.value=await j({id:i.id})}catch(m){o.value=!1,C().error(`获取详情失败：${JSON.stringify(m)}`)}}}),(i,e)=>{const m=N,w=T,g=V,k=b("load");return r(),d(g,{modelValue:t(o),"onUpdate:modelValue":e[4]||(e[4]=l=>y(o)?o.value=l:null),ui:{width:"sm:max-w-3xl",container:"items-center",base:"overflow-hidden"}},{default:v(()=>{var l,c;return[$((r(),B("div",A,[n("div",M,[n("div",null,[n("h1",O,f((l=t(a))==null?void 0:l.name),1),n("p",E,[_(m,{name:"tabler:clock"}),n("span",null,f((c=t(a))==null?void 0:c.create_time),1)])]),n("div",null,[_(w,{icon:"tabler:x",ui:{icon:{size:{sm:"h-5 w-5"}},square:{sm:"p-1"}},size:"sm",variant:"ghost",onClick:e[0]||(e[0]=p=>o.value=!1)})])]),_(U,{mode:"out-in",name:"component"},{default:v(()=>[t(a)&&t(s)===0?(r(),d(q,{key:0,data:t(a),onStepChange:e[1]||(e[1]=p=>s.value=1)},null,8,["data"])):t(a)&&t(s)===1?(r(),d(z,{key:1,data:t(a),onStepChange:e[2]||(e[2]=p=>s.value=0),onSubmit:e[3]||(e[3]=()=>{o.value=!1,("navigateTo"in i?i.navigateTo:t(D))("/avatar/works")})},null,8,["data"])):S("",!0)]),_:1})])),[[k,!t(a)]])]}),_:1},8,["modelValue"])}}});export{K as _};
