import{f as L,W as z,br as Q,L as E,o as i,c as m,k as o,B as I,a as e,O as N,v as A,ao as P,r as y,h as D,c8 as G,A as x,w as l,D as C,b as n,t as c,d as V,m as O,F as j,I as q,x as W,q as H,bt as J}from"./iBiA3qHo.js";import{_ as K}from"./Cp6gw0qI.js";import{_ as R}from"./DDs9jzhK.js";import{_ as X}from"./ZJNN5Mea.js";import{_ as Y}from"./jEpb_vT2.js";const Z={class:"relative cursor-pointer"},e1=L({__name:"login-guard",props:{class:{default:""}},setup(b){const t=z(),{setLoginModal:f}=Q(),g=b,_=E(()=>g.class),d=()=>{t.isLogin||f(!0)};return(r,s)=>(i(),m("div",Z,[o(t).isLogin?I("",!0):(i(),m("div",{key:0,class:"absolute inset-0 z-20 size-full",onClick:d})),e("div",{class:A(["relative z-10",o(_)])},[N(r.$slots,"default")],2)]))}}),k1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='none'%20version='1.1'%20width='525'%20height='525'%20viewBox='0%200%20525%20525'%3e%3cdefs%3e%3cclipPath%20id='master_svg0_230_06922'%3e%3crect%20x='0'%20y='0'%20width='525'%20height='525'%20rx='0'%20/%3e%3c/clipPath%3e%3cradialGradient%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20id='master_svg1_230_06905'%20gradientTransform='translate(262.50025939941406%20262.50001525878906)%20rotate(90)%20scale(170.19850158691406%20170.19850158691406)'%3e%3cstop%20offset='0%25'%20stop-color='%233553FE'%20stop-opacity='0'%20/%3e%3cstop%20offset='0.42022704146802425%25'%20stop-color='%233553FE'%20stop-opacity='0.24802985787391663'%20/%3e%3cstop%20offset='27.380895614624023%25'%20stop-color='%233553FE'%20stop-opacity='1'%20/%3e%3cstop%20offset='100%25'%20stop-color='%233553FE'%20stop-opacity='1'%20/%3e%3c/radialGradient%3e%3c/defs%3e%3cg%20clip-path='url(%23master_svg0_230_06922)'%3e%3cg%3e%3cpath%20d='M92.3017578125,291.518513671875L92.3017578125,207.638513671875Q92.3017578125,184.19841367187502,101.3811478125,162.732313671875Q110.1385578125,142.027413671875,126.08315781249999,126.08291367187499Q142.0276578125,110.138313671875,162.7325578125,101.380903671875Q184.19865781250002,92.301513671875,207.6387578125,92.301513671875L291.5187578125,92.301513671875C293.7277578125,92.301513671875,295.5187578125,94.092373671875,295.5187578125,96.301513671875L295.5187578125,164.549213671875C295.5187578125,166.75841367187502,293.7277578125,168.549213671875,291.5187578125,168.549213671875L207.6387578125,168.549213671875Q191.4473578125,168.549213671875,179.9983578125,179.998113671875Q168.5494578125,191.447113671875,168.5494578125,207.638513671875L168.5494578125,291.518513671875C168.5494578125,293.727513671875,166.75865781250002,295.518513671875,164.5494578125,295.518513671875L96.3017578125,295.518513671875C94.0926178125,295.518513671875,92.3017578125,293.727513671875,92.3017578125,291.518513671875M233.4817578125,356.450513671875L317.3617578125,356.450513671875Q333.5527578125,356.450513671875,345.0017578125,345.001513671875Q356.4507578125,333.552513671875,356.4507578125,317.361513671875L356.4507578125,233.481513671875C356.4507578125,231.272513671875,358.2417578125,229.481513671875,360.4507578125,229.481513671875L428.6987578125,229.481513671875C430.9077578125,229.481513671875,432.6987578125,231.272513671875,432.6987578125,233.481513671875L432.6987578125,317.361513671875Q432.6987578125,340.801513671875,423.6197578125,362.267513671875Q414.8617578125,382.972513671875,398.9177578125,398.917513671875Q382.9727578125,414.861513671875,362.2677578125,423.619513671875Q340.8017578125,432.698513671875,317.3617578125,432.698513671875L233.4817578125,432.698513671875C231.2727578125,432.698513671875,229.4817578125,430.907513671875,229.4817578125,428.698513671875L229.4817578125,360.450513671875C229.4817578125,358.241513671875,231.2727578125,356.450513671875,233.4817578125,356.450513671875'%20fill-rule='evenodd'%20fill='url(%23master_svg1_230_06905)'%20fill-opacity='1'%20/%3e%3c/g%3e%3cg%3e%3cellipse%20cx='262.50038146972656'%20cy='262.50001525878906'%20rx='37.95008850097656'%20ry='37.95008850097656'%20fill='%233553FE'%20fill-opacity='1'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",o1={class:"flex items-center gap-1"},t1={class:"flex items-center rounded-full border-2 border-white/40"},s1={key:0},n1={class:"p-6"},r1={class:"flex flex-col"},a1={class:"max-w-32 truncate text-sm"},i1={class:"max-w-32 truncate text-xs text-foreground/60"},l1={class:"flex items-center text-sm"},c1={class:"mr-2 max-w-40 break-words text-primary"},d1={class:"grid grid-cols-3 gap-6"},u1={class:"group cursor-pointer flex-col gap-2 center"},p1={class:"h-8 w-8 rounded-full bg-foreground/5 center hover:bg-foreground/10 active:bg-foreground/15"},_1={class:"text-xs"},m1={class:"flex justify-between"},f1={class:"flex rounded-full border-2 border-white/40"},w1=L({__name:"user-profile",props:{size:{default:"md"},showNickname:{type:Boolean,default:!1}},setup(b){const t=z(),f=P(),g=Q(),_=y(),d=y([]);return D(async()=>{d.value=[{id:1,icon:"tabler:recharging",title:"充值记录",path:"/profile/recharge-record"},{id:2,icon:"tabler:file-text",title:"账单明细",path:"/profile/power-flow"},{id:3,icon:"tabler:book-2",title:"政策协议",target:"_blank",path:"/agreement"}],_.value=await G(),_.value.manual_kf.status==1&&d.value.push({id:4,icon:"tabler:message-chatbot",title:"人工客服",target:"",path:"",click:()=>{g.setCustomerModal(!0)}})}),(r,s)=>{const v=q,h=W,S=H,T=K,U=R,$=J,B=X,F=Y,M=e1;return o(t).isLogin?(i(),x(F,{key:0,class:"flex",mode:"hover",ui:{rounded:"rounded-2xl"},"close-delay":300},{panel:l(()=>{var u,p,k;return[e("div",n1,[e("div",{class:"flex cursor-pointer items-center gap-4",onClick:s[0]||(s[0]=a=>("navigateTo"in r?r.navigateTo:o(C))("/profile"))},[n(v,{src:(u=o(t).userInfo)==null?void 0:u.avatar,alt:"Avatar",size:"md","img-class":"bg-foreground/30"},null,8,["src"]),e("div",r1,[e("span",a1,c((p=o(t).userInfo)==null?void 0:p.nickname),1),e("span",i1," UID："+c((k=o(t).userInfo)==null?void 0:k.sn),1)]),n(h,{name:"tabler:chevron-right",class:"ml-auto text-foreground/60",size:"20"})]),n(T,{class:"rounded bg-primary/10",padding:"p-2 my-4",rounded:"rounded-md"},{default:l(()=>{var a,w;return[e("div",l1,[e("span",null,c((a=o(f).siteConfig)==null?void 0:a.unit.power)+"：",1),e("span",c1,c((w=o(t).userInfo)==null?void 0:w.user_money),1),n(S,{size:"2xs",class:"ml-auto",onClick:s[1]||(s[1]=()=>("navigateTo"in r?r.navigateTo:o(C))("/profile/recharge"))},{default:l(()=>s[3]||(s[3]=[V("充值")])),_:1})])]}),_:1}),e("div",d1,[(i(!0),m(j,null,O(o(d),a=>(i(),x(U,{key:a.id,menu:a},{default:l(()=>[e("div",u1,[e("div",p1,[n(h,{name:a.icon},null,8,["name"])]),e("p",_1,c(a.title),1)])]),_:2},1032,["menu"]))),128))]),n($,{class:"py-4"}),e("div",m1,[e("div",{class:"flex cursor-pointer items-center gap-1 rounded-md px-2 text-sm text-red-500 transition-colors hover:bg-red-50 dark:hover:hover:bg-red-500/10",onClick:s[2]||(s[2]=a=>o(t).logout())},[n(h,{name:"tabler:logout",size:"18"}),s[4]||(s[4]=e("p",null,"退出登录",-1))]),n(B)])])]}),default:l(()=>{var u,p;return[e("div",o1,[e("div",t1,[n(v,{src:(u=o(t).userInfo)==null?void 0:u.avatar,alt:"Avatar",size:r.size,"img-class":"bg-foreground/30"},null,8,["src","size"])]),r.showNickname?(i(),m("p",s1,c((p=o(t).userInfo)==null?void 0:p.nickname),1)):I("",!0)])]}),_:1})):(i(),x(M,{key:1},{default:l(()=>[e("div",f1,[n(v,{icon:"tabler:user",alt:"未登录",size:r.size},null,8,["size"])])]),_:1}))}}});export{k1 as L,w1 as _,e1 as a};
