import{f as C,r as w,b6 as D,b7 as fe,b8 as oe,L as h,aX as R,aE as Z,h as H,ab as W,aP as be,aA as x,aI as U,b9 as me,F as J,aJ as ie,aO as de,aa as Q,aK as ge,aN as ee,aG as j,aT as P,ba as G,bb as he,bc as ye,bd as A,aV as S,be as xe,bf as we,bg as Ie,bh as ke,o as O,c as X,b as B,k as I,l as q,bi as ae,v as z,w as E,a as N,a7 as Te,q as $e,a4 as Pe,_ as ce,G as Se,H as te,x as pe,J as Ve,K as le,bj as Oe,p as ne,a$ as ze,b2 as F,A as L,b3 as Ce,m as se,O as K,B as ue,t as re,d as Ae,P as Be,b0 as Ee}from"./iBiA3qHo.js";const He={wrapper:"relative space-y-2",container:"relative w-full",base:"focus:outline-none",list:{base:"relative",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-lg",shadow:"",padding:"p-1",height:"h-10",width:"w-full",marker:{wrapper:"absolute top-[4px] left-[4px] duration-200 ease-out focus:outline-none",base:"w-full h-full",background:"bg-white dark:bg-gray-900",rounded:"rounded-md",shadow:"shadow-sm"},tab:{base:"relative inline-flex items-center justify-center flex-shrink-0 w-full ui-focus-visible:outline-0 ui-focus-visible:ring-2 ui-focus-visible:ring-primary-500 dark:ui-focus-visible:ring-primary-400 ui-not-focus-visible:outline-none focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 transition-colors duration-200 ease-out",background:"",active:"text-gray-900 dark:text-white",inactive:"text-gray-500 dark:text-gray-400",height:"h-8",padding:"px-3",size:"text-sm",font:"font-medium",rounded:"rounded-md",shadow:"",icon:"w-4 h-4 flex-shrink-0 me-2"}}};let Re=C({props:{onFocus:{type:Function,required:!0}},setup(e){let v=w(!0);return()=>v.value?D(oe,{as:"button",type:"button",features:fe.Focusable,onFocus(m){m.preventDefault();let c,p=50;function t(){var a;if(p--<=0){c&&cancelAnimationFrame(c);return}if((a=e.onFocus)!=null&&a.call(e)){v.value=!1,cancelAnimationFrame(c);return}c=requestAnimationFrame(t)}c=requestAnimationFrame(t)}}):null}});var Fe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fe||{}),Le=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Le||{});let ve=Symbol("TabsContext");function _(e){let v=Q(ve,null);if(v===null){let m=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,_),m}return v}let Y=Symbol("TabsSSRContext"),Ne=C({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:v,attrs:m,emit:c}){var p;let t=w((p=e.selectedIndex)!=null?p:e.defaultIndex),a=w([]),n=w([]),f=h(()=>e.selectedIndex!==null),k=h(()=>f.value?e.selectedIndex:t.value);function b(l){var d;let i=R(s.tabs.value,x),u=R(s.panels.value,x),g=i.filter(T=>{var $;return!(($=x(T))!=null&&$.hasAttribute("disabled"))});if(l<0||l>i.length-1){let T=j(t.value===null?0:Math.sign(l-t.value),{[-1]:()=>1,0:()=>j(Math.sign(l),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),$=j(T,{0:()=>i.indexOf(g[0]),1:()=>i.indexOf(g[g.length-1])});$!==-1&&(t.value=$),s.tabs.value=i,s.panels.value=u}else{let T=i.slice(0,l),$=[...i.slice(l),...T].find(M=>g.includes(M));if(!$)return;let V=(d=i.indexOf($))!=null?d:s.selectedIndex.value;V===-1&&(V=s.selectedIndex.value),t.value=V,s.tabs.value=i,s.panels.value=u}}let s={selectedIndex:h(()=>{var l,d;return(d=(l=t.value)!=null?l:e.defaultIndex)!=null?d:null}),orientation:h(()=>e.vertical?"vertical":"horizontal"),activation:h(()=>e.manual?"manual":"auto"),tabs:a,panels:n,setSelectedIndex(l){k.value!==l&&c("change",l),f.value||b(l)},registerTab(l){var d;if(a.value.includes(l))return;let i=a.value[t.value];if(a.value.push(l),a.value=R(a.value,x),!f.value){let u=(d=a.value.indexOf(i))!=null?d:t.value;u!==-1&&(t.value=u)}},unregisterTab(l){let d=a.value.indexOf(l);d!==-1&&a.value.splice(d,1)},registerPanel(l){n.value.includes(l)||(n.value.push(l),n.value=R(n.value,x))},unregisterPanel(l){let d=n.value.indexOf(l);d!==-1&&n.value.splice(d,1)}};Z(ve,s);let r=w({tabs:[],panels:[]}),o=w(!1);H(()=>{o.value=!0}),Z(Y,h(()=>o.value?null:r.value));let y=h(()=>e.selectedIndex);return H(()=>{W([y],()=>{var l;return b((l=e.selectedIndex)!=null?l:e.defaultIndex)},{immediate:!0})}),be(()=>{if(!f.value||k.value==null||s.tabs.value.length<=0)return;let l=R(s.tabs.value,x);l.some((d,i)=>x(s.tabs.value[i])!==x(d))&&s.setSelectedIndex(l.findIndex(d=>x(d)===x(s.tabs.value[k.value])))}),()=>{let l={selectedIndex:t.value};return D(J,[a.value.length<=0&&D(Re,{onFocus:()=>{for(let d of a.value){let i=x(d);if((i==null?void 0:i.tabIndex)===0)return i.focus(),!0}return!1}}),U({theirProps:{...m,...me(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:l,slots:v,attrs:m,name:"TabGroup"})])}}}),Ue=C({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:v,slots:m}){let c=_("TabList");return()=>{let p={selectedIndex:c.selectedIndex.value},t={role:"tablist","aria-orientation":c.orientation.value};return U({ourProps:t,theirProps:e,slot:p,attrs:v,slots:m,name:"TabList"})}}}),_e=C({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:v,slots:m,expose:c}){var p;let t=(p=e.id)!=null?p:`headlessui-tabs-tab-${ie()}`,a=_("Tab"),n=w(null);c({el:n,$el:n}),H(()=>a.registerTab(n)),de(()=>a.unregisterTab(n));let f=Q(Y),k=h(()=>{if(f.value){let u=f.value.tabs.indexOf(t);return u===-1?f.value.tabs.push(t)-1:u}return-1}),b=h(()=>{let u=a.tabs.value.indexOf(n);return u===-1?k.value:u}),s=h(()=>b.value===a.selectedIndex.value);function r(u){var g;let T=u();if(T===G.Success&&a.activation.value==="auto"){let $=(g=ye(n))==null?void 0:g.activeElement,V=a.tabs.value.findIndex(M=>x(M)===$);V!==-1&&a.setSelectedIndex(V)}return T}function o(u){let g=a.tabs.value.map(T=>x(T)).filter(Boolean);if(u.key===P.Space||u.key===P.Enter){u.preventDefault(),u.stopPropagation(),a.setSelectedIndex(b.value);return}switch(u.key){case P.Home:case P.PageUp:return u.preventDefault(),u.stopPropagation(),r(()=>A(g,S.First));case P.End:case P.PageDown:return u.preventDefault(),u.stopPropagation(),r(()=>A(g,S.Last))}if(r(()=>j(a.orientation.value,{vertical(){return u.key===P.ArrowUp?A(g,S.Previous|S.WrapAround):u.key===P.ArrowDown?A(g,S.Next|S.WrapAround):G.Error},horizontal(){return u.key===P.ArrowLeft?A(g,S.Previous|S.WrapAround):u.key===P.ArrowRight?A(g,S.Next|S.WrapAround):G.Error}}))===G.Success)return u.preventDefault()}let y=w(!1);function l(){var u;y.value||(y.value=!0,!e.disabled&&((u=x(n))==null||u.focus({preventScroll:!0}),a.setSelectedIndex(b.value),he(()=>{y.value=!1})))}function d(u){u.preventDefault()}let i=ge(h(()=>({as:e.as,type:v.type})),n);return()=>{var u,g;let T={selected:s.value,disabled:(u=e.disabled)!=null?u:!1},{...$}=e,V={ref:n,onKeydown:o,onMousedown:d,onClick:l,id:t,role:"tab",type:i.value,"aria-controls":(g=x(a.panels.value[b.value]))==null?void 0:g.id,"aria-selected":s.value,tabIndex:s.value?0:-1,disabled:e.disabled?!0:void 0};return U({ourProps:V,theirProps:$,slot:T,attrs:v,slots:m,name:"Tab"})}}}),Ge=C({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:v,attrs:m}){let c=_("TabPanels");return()=>{let p={selectedIndex:c.selectedIndex.value};return U({theirProps:e,ourProps:{},slot:p,attrs:m,slots:v,name:"TabPanels"})}}}),je=C({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:v,slots:m,expose:c}){var p;let t=(p=e.id)!=null?p:`headlessui-tabs-panel-${ie()}`,a=_("TabPanel"),n=w(null);c({el:n,$el:n}),H(()=>a.registerPanel(n)),de(()=>a.unregisterPanel(n));let f=Q(Y),k=h(()=>{if(f.value){let r=f.value.panels.indexOf(t);return r===-1?f.value.panels.push(t)-1:r}return-1}),b=h(()=>{let r=a.panels.value.indexOf(n);return r===-1?k.value:r}),s=h(()=>b.value===a.selectedIndex.value);return()=>{var r;let o={selected:s.value},{tabIndex:y,...l}=e,d={ref:n,id:t,role:"tabpanel","aria-labelledby":(r=x(a.tabs.value[b.value]))==null?void 0:r.id,tabIndex:s.value?y:-1};return!s.value&&e.unmount&&!e.static?D(oe,{as:"span","aria-hidden":!0,...d}):U({ourProps:d,theirProps:l,slot:o,attrs:v,slots:m,features:ee.Static|ee.RenderStrategy,visible:s.value,name:"TabPanel"})}}});const De={class:"flex gap-2 p-4"},Me=C({__name:"page-search",props:{placeholder:{default:"搜索..."},fixed:{type:Boolean,default:!0},modelValue:{default:""}},emits:["search","update:modelValue"],setup(e,{emit:v}){const m=e,c=v,p=w(!1),t=h({get:()=>m.modelValue,set:r=>{c("update:modelValue",r)}}),a=w(),{width:n}=xe(),{top:f}=we(a),k=h(()=>Ie()?n.value<ke.MD:!1),b=w(!1),s=h(()=>!m.fixed||!k.value?!1:b.value?f.value<=15:!1);return H(()=>{b.value=!0}),(r,o)=>{const y=Te,l=$e,d=Pe;return O(),X("div",{ref_key:"PageSearchRef",ref:a},[B(y,{modelValue:I(t),"onUpdate:modelValue":o[0]||(o[0]=i=>q(t)?t.value=i:null),class:"order-2 hidden md:block",icon:"tabler:search",placeholder:r.placeholder,onKeyup:o[1]||(o[1]=ae(i=>c("search",I(t)),["enter"])),onChange:o[2]||(o[2]=()=>{I(t)===""&&c("search",I(t))})},null,8,["modelValue","placeholder"]),B(l,{class:z(["md:hidden",{"show fixed right-14 top-[7px] z-50":I(s)}]),icon:"tabler:search",size:"md",variant:I(s)?"ghost":"solid",color:I(s)?"gray":"primary",ui:{icon:{size:{md:I(s)?"size-5":"size-4"}}},onClick:o[3]||(o[3]=i=>p.value=!0)},null,8,["class","variant","color","ui"]),B(d,{modelValue:I(p),"onUpdate:modelValue":o[8]||(o[8]=i=>q(p)?p.value=i:null),ui:{container:"items-start"}},{default:E(()=>[N("div",De,[B(y,{modelValue:I(t),"onUpdate:modelValue":o[4]||(o[4]=i=>q(t)?t.value=i:null),class:"flex-1",size:"lg",icon:"i-heroicons:magnifying-glass-20-solid",placeholder:r.placeholder,onKeyup:o[5]||(o[5]=ae(()=>{p.value=!1,c("search",I(t))},["enter"])),onChange:o[6]||(o[6]=i=>I(t)===""?c("search",I(t)):null)},null,8,["modelValue","placeholder"]),B(l,{label:"搜索",size:"lg",onClick:o[7]||(o[7]=()=>{p.value=!1,c("search",I(t))})})])]),_:1},8,["modelValue"])],512)}}}),Ye=ce(Me,[["__scopeId","data-v-98d9fbad"]]),qe=Se(te.ui.strategy,te.ui.tabs,He),Ke=C({components:{UIcon:pe,HTabGroup:Ne,HTabList:Ue,HTab:_e,HTabPanels:Ge,HTabPanel:je},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},unmount:{type:Boolean,default:!1},content:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:v}){const{ui:m,attrs:c}=Ve("tabs",le(e,"ui"),qe,le(e,"class")),p=w(),t=w([]),a=w(),n=w(e.modelValue||e.defaultIndex);function f(b){var r;const s=(r=t.value[b])==null?void 0:r.$el;s&&a.value&&(a.value.style.top=`${s.offsetTop}px`,a.value.style.left=`${s.offsetLeft}px`,a.value.style.width=`${s.offsetWidth}px`,a.value.style.height=`${s.offsetHeight}px`)}function k(b){n.value=b,v("change",b),e.modelValue!==void 0&&v("update:modelValue",n.value),f(n.value)}return Oe(p,()=>{f(n.value)}),W(()=>e.modelValue,b=>{n.value=b,f(n.value)}),W(()=>e.items,async()=>{await ne(),f(n.value)},{deep:!0}),H(async()=>{await ne(),f(n.value)}),ze(()=>Ee()),{ui:m,attrs:c,listRef:p,itemRefs:t,markerRef:a,selectedIndex:n,onChange:k}}}),We=["aria-label"],Je={class:"truncate"};function Xe(e,v,m,c,p,t){const a=pe,n=F("HTab"),f=F("HTabList"),k=F("HTabPanel"),b=F("HTabPanels"),s=F("HTabGroup");return O(),L(s,Be({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.ui.wrapper},e.attrs,{onChange:e.onChange}),{default:E(()=>[B(f,{ref:"listRef",class:z([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:Ce([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:E(()=>[N("div",{ref:"markerRef",class:z(e.ui.list.marker.wrapper)},[N("div",{class:z([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(O(!0),X(J,null,se(e.items,(r,o)=>(O(),L(n,{key:o,ref_for:!0,ref:"itemRefs",disabled:r.disabled,as:"template"},{default:E(({selected:y,disabled:l})=>[N("button",{"aria-label":r.ariaLabel,class:z([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,y?e.ui.list.tab.active:e.ui.list.tab.inactive])},[K(e.$slots,"icon",{item:r,index:o,selected:y,disabled:l},()=>[r.icon?(O(),L(a,{key:0,name:r.icon,class:z(e.ui.list.tab.icon)},null,8,["name","class"])):ue("",!0)]),K(e.$slots,"default",{item:r,index:o,selected:y,disabled:l},()=>[N("span",Je,re(r.label),1)])],10,We)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),e.content?(O(),L(b,{key:0,class:z(e.ui.container)},{default:E(()=>[(O(!0),X(J,null,se(e.items,(r,o)=>(O(),L(k,{key:o,class:z(e.ui.base),unmount:e.unmount},{default:E(({selected:y})=>[K(e.$slots,r.slot||"item",{item:r,index:o,selected:y},()=>[Ae(re(r.content),1)])]),_:2},1032,["class","unmount"]))),128))]),_:3},8,["class"])):ue("",!0)]),_:3},16,["vertical","selected-index","class","onChange"])}const Ze=ce(Ke,[["render",Xe]]);export{Ye as _,Ze as a};
