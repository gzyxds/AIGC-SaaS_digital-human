import{d as e,r as a,aI as r,j as l,a5 as o,G as s,J as t,l as u,o as p,c as d,w as i,H as n,a as f,b as c,n as m,p as g,F as _,s as v,aE as x,v as b,i as y,z as h,y as k,t as C,C as j,e as w,_ as I}from"./index-CTSv8bdf.js";import{_ as z}from"./EmptyStatus.vue_vue_type_script_setup_true_lang.BbsBdioH.js";import{_ as N}from"./ProductCard.pVvRNm7o.js";import{_ as S}from"./z-paging.DcYRLe5r.js";import{_ as P}from"./icon-select.ChgqfciC.js";import{d as E}from"./avatar.D4ZfpDUd.js";const V=I(e({__name:"SelectProfilePop",props:{profileId:{},profileImage:{}},emits:["update:profileId","update:profileImage"],setup(e,{expose:I,emit:V}){const H=V,J=a(),U=a(),F=a(),G=r(null),K=a([]),L=async(e,a)=>{try{const{lists:r}=await E({page_no:e,page_size:a,status:Number(x.SUCCESS)});G.value.complete(r)}catch(r){console.log("报错=>",r),G.value.complete(!1)}},Q=()=>{U.value&&(H("update:profileId",U.value),H("update:profileImage",F.value)),J.value.close()},R=()=>{console.log("按钮操作"),J.value.close(),b({url:"/pages/create_profile/index"})};return l((()=>{o((()=>{var e;null==(e=G.value)||e.refresh()}))})),I({open:e=>{e&&(console.log("id",e),U.value=Number(e)),J.value.open()}}),(e,a)=>{const r=y,l=w,o=N,x=z,b=s(t("z-paging"),S),I=h,E=k,V=s(t("uni-popup"),n),H=u("layout-default-uni");return p(),d(H,null,{default:i((()=>[f(V,{ref_key:"popupRef",ref:J,"border-radius":"24rpx",type:"bottom"},{default:i((()=>[f(r,{class:"select-Pop h-[1240rpx] rounded-t-[var(--ui-radius)]","bg-background":""},{default:i((()=>[f(r,{class:"mx-40rpx mb-28rpx pt-40rpx text-foreground-muted font-500"},{default:i((()=>[c(" 选择形象 ")])),_:1}),f(I,{"scroll-y":!0,class:"h-full"},{default:i((()=>[f(r,{class:"scroll-y-box h-full px-[24rpx]"},{default:i((()=>[f(b,{ref_key:"paging",ref:G,modelValue:K.value,"onUpdate:modelValue":a[0]||(a[0]=e=>K.value=e),fixed:!1,height:"100%","z-paging-refresh":"false",onQuery:L},{empty:i((()=>[f(r,{"h-full":"","w-full":""},{default:i((()=>[f(x,{"button-text":"创建形象",onHandle:R})])),_:1})])),default:i((()=>[f(r,{class:"grid grid-cols-2 gap-x-22rpx"},{default:i((()=>[(p(!0),m(_,null,g(K.value,(e=>(p(),d(o,{key:e.id,images:e.cover,time:e.duration,"bg-color":"bg-background-muted",url:e.video_url,status:e.status},{content:i((()=>[f(r,{between:"","pl-3.5":"","pr-2":"",text:"sm foreground"},{default:i((()=>[f(r,{text:"sm foreground","line-clamp-1":""},{default:i((()=>[c(C(e.name),1)])),_:2},1024),f(r,{between:"","pl-3.5":"","pr-2":"",text:"sm foreground",onClick:a=>{return r=e.id,l=e.cover,console.log("radioChange id=> ",r),console.log("radioChange cover=> ",l),U.value=r,void(F.value=l);var r,l}},{default:i((()=>[f(r,{class:j(["h-[48rpx] w-[48rpx] flex items-center justify-center border-[4rpx] rounded-[30rpx] border-solid",Number(e.id)===Number(U.value)?"bg-primary border-primary":"border-foreground"])},{default:i((()=>[Number(e.id)===Number(U.value)?(p(),d(l,{key:0,src:P,class:"h-[44rpx] w-[44rpx]"})):v("",!0)])),_:2},1032,["class"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["images","time","url","status"])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),K.value.length?(p(),d(r,{key:0,class:"footer fixed bottom-0 left-0 z-10 w-full px-3","bg-background":""},{default:i((()=>[f(E,{type:"primary",onClick:Q},{default:i((()=>[c("使用形象")])),_:1})])),_:1})):v("",!0)])),_:1})])),_:1},512)])),_:1})}}}),[["__scopeId","data-v-69a33a36"]]);export{V as default};
